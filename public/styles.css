/* ===== KIVA v4.3 ‚Äî Portada con carrusel; dial sin sombra; muro fluido; responsive s√≥lido ===== */
:root{
  --lilac:#E5D6FF; --blue:#CFEAFF; --pink:#FFD6E7; --yellow:#FFF4B8; --peach:#FFD9C8;
  --paper:#FFFFFF; --card:#FFFFFF; --ink:#101522; --ink-2:#2A3550; --line:rgba(0,0,0,.14);
  --muted:#6A7484; --ring:#7C4DFF;
  --shadow-sm:0 2px 8px rgba(0,0,0,.06);
  --shadow-md:0 8px 18px rgba(0,0,0,.10);
  --shadow-lg:0 14px 40px rgba(0,0,0,.16);
}

/* ===== Paleta modo oscuro (usa las mismas variables) ===== */
body[data-theme="dark"]{
  --paper:#020617;
  --card:#020617;
  --ink:#e5e7eb;
  --ink-2:#c7d2fe;
  --muted:#9ca3af;
  --line:rgba(148,163,184,.55);
  --ring:#a5b4fc;

  --lilac:#4c3a76;
  --blue:#1d4ed8;
  --pink:#db2777;
  --yellow:#eab308;
  --peach:#f97316;
}
/* Help cards en modo oscuro ‚Äî degradado bonito */
body[data-theme="dark"] .help .help-card{
  background:linear-gradient(
    180deg,
    color-mix(in oklab, var(--card) 95%, #4c1d95 20%) 0%,
    color-mix(in oklab, var(--card) 85%, #1d4ed8 15%) 50%,
    color-mix(in oklab, var(--card) 80%, #0ea5e9 10%) 100%
  );
  border:1px solid var(--line);
}


*{box-sizing:border-box}
html,body{height:100%} html{overflow-x:hidden}
body{margin:0; overflow-x:hidden; font-family:"Nunito",system-ui,-apple-system,Segoe UI,Roboto,Arial; color:var(--ink); background:var(--paper)}
h1,h2,h3{font-family:"Fredoka", system-ui; margin:0 0 12px; line-height:1.15}
p{margin:0 0 12px} small{color:var(--muted)}

/* Transiciones suaves entre claro/oscuro */
html,
body,
body::before{
  transition:
    background-color .35s ease,
    color .35s ease,
    background .45s ease;
}

.section,
.game-block,
.learn-card,
.sidenav,
.site-header,
.site-footer,
.post,
.about-card,
.blog-card,
.help .help-card,
.memory-grid .cardm,
.traffic-zone,
.forum textarea,
.forum .alias,
.btn,
.chip,
.traffic-card{
  transition:
    background-color .35s ease,
    color .35s ease,
    border-color .35s ease,
    box-shadow .35s ease;
}

/* ===== Fondos por secci√≥n (modo claro) ===== */
body[data-bg="inicio"]::before{
  content:""; position:fixed; inset:0; z-index:-1;
  background:
    radial-gradient(28rem 22rem at -6% -8%, #ffd6e7 0 60%, transparent 61%),
    radial-gradient(26rem 22rem at 106% 0%, #cfeaff 0 60%, transparent 61%),
    radial-gradient(26rem 22rem at 100% 110%, #fff4b8 0 60%, transparent 61%),
    radial-gradient(28rem 22rem at 0% 110%, #ffd9c8 0 60%, transparent 61%),
    radial-gradient(circle at 20% 20%, rgba(0,0,0,.04) 3px, transparent 4px) 0 0/26px 26px,
    radial-gradient(circle at 80% 70%, rgba(0,0,0,.04) 3px, transparent 4px) 0 0/30px 30px,
    #fff;
}
body[data-bg="aprende"]::before{content:""; position:fixed; inset:0; z-index:-1; background:
  radial-gradient(16rem 12rem at 8% 10%, #ffd6e7 0 70%, transparent 71%),
  radial-gradient(18rem 14rem at 94% 12%, #cfeaff 0 70%, transparent 71%),
  radial-gradient(22rem 16rem at 10% 92%, #fff4b8 0 70%, transparent 71%),
  radial-gradient(20rem 14rem at 92% 92%, #ffd9c8 0 70%, transparent 71%), #fff;
}
body[data-bg="explora"]::before{content:""; position:fixed; inset:0; z-index:-1; background:
  radial-gradient(40vmax 30vmax at 15% 15%, #ffe6f2 0 40%, transparent 41%),
  radial-gradient(35vmax 28vmax at 85% 20%, #eef5ff 0 40%, transparent 41%),
  radial-gradient(38vmax 30vmax at 50% 95%, #fff4b8 0 35%, transparent 36%), #fff;
}
body[data-bg="foro"]::before,
body[data-bg="ayuda"]::before,
body[data-bg="reflexiones"]::before,
body[data-bg="sobre"]::before{
  content:""; position:fixed; inset:0; z-index:-1; background:
  radial-gradient(60vmax 40vmax at 0% 0%, #f4e6ff 0 40%, transparent 41%),
  radial-gradient(60vmax 40vmax at 100% 100%, #ffeaf3 0 40%, transparent 41%),
  #fff;
}

/* ===== Fondos por secci√≥n (modo oscuro) ===== */
body[data-theme="dark"][data-bg="inicio"]::before{
  content:""; position:fixed; inset:0; z-index:-1;
  background:
    radial-gradient(28rem 22rem at -6% -8%, #4c1d95 0 60%, transparent 61%),
    radial-gradient(26rem 22rem at 106% 0%, #1d4ed8 0 60%, transparent 61%),
    radial-gradient(26rem 22rem at 100% 110%, #eab308 0 60%, transparent 61%),
    radial-gradient(28rem 22rem at 0% 110%, #f97316 0 60%, transparent 61%),
    radial-gradient(circle at 20% 20%, rgba(15,23,42,.6) 3px, transparent 4px) 0 0/26px 26px,
    radial-gradient(circle at 80% 70%, rgba(15,23,42,.6) 3px, transparent 4px) 0 0/30px 30px,
    #020617;
}
body[data-theme="dark"][data-bg="aprende"]::before{
  content:""; position:fixed; inset:0; z-index:-1;
  background:
    radial-gradient(16rem 12rem at 8% 10%, #4c1d95 0 70%, transparent 71%),
    radial-gradient(18rem 14rem at 94% 12%, #1d4ed8 0 70%, transparent 71%),
    radial-gradient(22rem 16rem at 10% 92%, #eab308 0 70%, transparent 71%),
    radial-gradient(20rem 14rem at 92% 92%, #f97316 0 70%, transparent 71%),
    #020617;
}
body[data-theme="dark"][data-bg="explora"]::before{
  content:""; position:fixed; inset:0; z-index:-1;
  background:
    radial-gradient(40vmax 30vmax at 15% 15%, #4c1d95 0 40%, transparent 41%),
    radial-gradient(35vmax 28vmax at 85% 20%, #1d4ed8 0 40%, transparent 41%),
    radial-gradient(38vmax 30vmax at 50% 95%, #eab308 0 35%, transparent 36%),
    #020617;
}
body[data-theme="dark"][data-bg="foro"]::before,
body[data-theme="dark"][data-bg="ayuda"]::before,
body[data-theme="dark"][data-bg="reflexiones"]::before,
body[data-theme="dark"][data-bg="sobre"]::before{
  content:""; position:fixed; inset:0; z-index:-1;
  background:
    radial-gradient(60vmax 40vmax at 0% 0%, #4c1d95 0 40%, transparent 41%),
    radial-gradient(60vmax 40vmax at 100% 100%, #db2777 0 40%, transparent 41%),
    #020617;
}

/* Header + t√≠tulo */
.site-header{position:sticky; top:0; z-index:8; padding:14px 20px 10px; border-bottom:1px solid var(--line); background:color-mix(in oklab, var(--paper) 90%, transparent 10%); backdrop-filter:blur(10px)}
.brand{text-decoration:none; color:inherit; display:block}
.title-multi b{font-weight:700; font-size:clamp(30px,6vw,60px); line-height:1; display:inline-block}
.title-multi .kiva{background:linear-gradient(90deg,#F06543 0%, #FF7AA8 38%, #F2B300 100%); -webkit-background-clip:text; background-clip:text; color:transparent}
.title-multi .voz{color:#FFD88A} 
.title-multi .y{color:#FFA8A8} 
.title-multi .apoyo{color:#A8B8FF}
.title-multi .Kids{color:#F7A8B8}
.title-multi .Integrity{color:#B8A0FF}
.title-multi .coma{color:#9BC5FF}
.hamburger{position:absolute; right:16px; top:14px; width:46px; height:46px; border:1px solid var(--line); background:var(--card); border-radius:14px; display:grid; place-items:center; cursor:pointer}
.hamburger span{display:block; width:24px; height:2px; background:var(--ink); margin:3px 0; border-radius:2px}

/* Bot√≥n flotante modo claro/oscuro (abajo a la derecha) */
.mode-toggle{
  position:fixed;
  bottom:18px;       /* üëà ahora abajo */
  right:18px;
  z-index:20;
  width:44px;
  height:44px;
  border-radius:999px;
  border:1px solid var(--line);
  background:color-mix(in oklab, var(--card) 70%, #0f172a 30%);
  display:grid;
  place-items:center;
  cursor:pointer;
  box-shadow:var(--shadow-md);
}

body[data-theme="dark"] .mode-toggle{
  background:color-mix(in oklab, #020617 80%, var(--card) 20%);
}

.mode-toggle__icon{
  font-size:20px;
}

/* Men√∫ lateral */
.nav-backdrop{position:fixed; inset:0; background:rgba(0,0,0,.35); z-index:10}
.nav-backdrop[hidden]{display:none}
.sidenav{position:fixed; top:0; right:0; z-index:11; width:min(420px, 92vw); height:100vh; overflow:auto; transform:translateX(100%); transition:transform .28s ease-out; background:var(--card); border-left:1px solid var(--line); padding:16px; box-shadow:-20px 0 40px rgba(0,0,0,.2)}
.sidenav.open{transform:none}
.sidenav-close{background:transparent; border:none; font-size:28px; color:var(--ink); cursor:pointer; margin-bottom:10px}
.snav-link{display:flex; align-items:center; gap:10px; padding:12px 14px; border:1px solid var(--line); border-radius:14px; color:inherit; text-decoration:none; margin:10px 0; background:var(--card); font-weight:800}
.snav-link svg{width:18px; height:18px; stroke-width:2}
.snav-link:hover{outline:2px solid var(--ring)}

/* Secciones */
.section{padding:56px 20px; max-width:1200px; margin:0 auto}
.hidden{display:none}

/* Hero inicio */
.hero.two-col{display:grid; grid-template-columns:1.15fr 1fr; gap:28px; align-items:center}
@media (max-width: 880px){
  .hero.two-col{grid-template-columns:1fr; gap:16px}
  .hero-media{order:-1}
}
.hero.clean .hero-left{background:var(--card); border:1px solid var(--line); border-radius:22px; padding:24px 18px 22px; box-shadow:var(--shadow-lg)}
.hero .title{margin-bottom:10px}
.hero .sub{display:block; font-weight:800; font-size:clamp(16px,2.4vw,22px); color:#1a2230}
.cta-row{display:flex; gap:10px; flex-wrap:wrap}

/* ===== Bloque de l√≠neas de apoyo bajo el h√©roe ===== */

.home-support-strip{
  margin-top: 22px;
}

.home-support-inner{
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 16px;
  padding: 16px 18px;
  border-radius: 22px;
  border: 1px solid var(--line);
  background: var(--card);
  box-shadow: var(--shadow-md);
}

.home-support-text{
  max-width: 460px;
}

.home-support-label{
  display: block;
  font-weight: 800;
  font-size: 1rem;
  margin-bottom: 4px;
}

.home-support-actions{
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
}

.home-pill{
  border-radius: 999px;
  border: 1px solid var(--line);
  padding: 10px 18px;
  background: #FFD9C8;
  font-family: "Fredoka", system-ui;
  font-weight: 700;
  font-size: 0.95rem;
  cursor: pointer;
  box-shadow: var(--shadow-sm);
  transition:
    transform .12s ease,
    box-shadow .12s ease,
    background-color .15s ease;
}

.home-pill.alt{
  background: #FFD6E7;
}

.home-pill:hover{
  transform: translateY(-1px);
  box-shadow: var(--shadow-md);
}

/* CTA foro bajo el recuadro */

.home-forum-cta{
  margin-top: 16px;
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  justify-content: space-between;
  gap: 10px;
}

.home-forum-text{
  font-size: 0.9rem;
  color: var(--muted);
  max-width: 520px;
}

.forum-cta-btn{
  background: #CFEAFF;
}

/* Modo oscuro: que se vea bonito tambi√©n */

body[data-theme="dark"] .home-support-inner{
  background: color-mix(in oklab, var(--card) 92%, #020617 8%);
}

body[data-theme="dark"] .home-pill{
  background: color-mix(in oklab, var(--card) 85%, #1d4ed8 15%);
  color: #e5e7eb;
}

body[data-theme="dark"] .home-pill.alt{
  background: color-mix(in oklab, var(--card) 85%, #db2777 15%);
}

/* Carrusel portada */
.home-carousel{position:relative; border-radius:18px; border:1px solid var(--line); background:var(--card); box-shadow:var(--shadow-md); overflow:hidden}
.hc-track{display:flex; scroll-snap-type:x mandatory; overflow:hidden; touch-action:pan-y; will-change:transform}
.home-carousel img{width:100%; height:280px; object-fit:cover; flex:0 0 100%; scroll-snap-align:center}
.hc-btn{position:absolute; top:50%; transform:translateY(-50%); background:var(--card); border:1px solid var(--line); color:var(--ink); width:40px; height:40px; border-radius:50%; cursor:pointer}
.hc-btn.prev{left:10px} .hc-btn.next{right:10px}

/* Botones */
.btn{font-family:"Fredoka", system-ui; font-weight:700; padding:10px 16px; border-radius:14px; border:1px solid var(--line); background:#FFD9C8; color:#101; cursor:pointer; transition:transform .1s}
.btn:hover{transform:translateY(-1px)} .btn.alt{background:#FFD6E7}

/* Utilidades / grids */
.grid{display:grid; gap:18px}
.grid.three{grid-template-columns:repeat(auto-fit, minmax(260px, 1fr))}
.grid.four{grid-template-columns:repeat(auto-fit, minmax(220px, 1fr))}
.mt{margin-top:18px}
.h-doodles{font-weight:800}

/* Aprende */
.learn-grid{display:grid; gap:18px; grid-template-columns:repeat(auto-fit,minmax(260px,1fr))}
.learn-card{border-radius:18px; overflow:hidden; border:1px solid var(--line); background:var(--card); box-shadow:var(--shadow-md)}
.learn-top{height:8px}
.learn-card.lilac .learn-top{background:var(--lilac)}
.learn-card.blue .learn-top{background:var(--blue)}
.learn-card.pink .learn-top{background:var(--pink)}
.learn-card.peach .learn-top{background:var(--peach)}
.learn-body{display:flex; gap:14px; padding:18px; align-items:flex-start}
.learn-ico{flex:0 0 60px; height:60px; border-radius:14px; border:1px solid var(--line); background:var(--blue); display:grid; place-items:center}
.learn-ico svg{width:28px; height:28px; color:#111}
.learn-text h3{margin:2px 0 8px} .learn-text p{margin:0}

/* Flip cards */
.flip{perspective:1000px}
.flip__inner{position:relative; width:100%; min-height:130px; transform-style:preserve-3d; transition:transform .6s; cursor:pointer}
.flip__front,.flip__back{
  position:absolute; inset:0; display:grid; place-items:center; padding:18px;
  border-radius:16px; background:#CFEAFF; border:1px dashed var(--line);
  backface-visibility:hidden; color:#111; font-weight:800;
}
.flip__back{transform:rotateY(180deg); background:#FFF4B8}
.flip:hover .flip__inner,.flip__inner:focus{transform:rotateY(180deg)}

/* Carrusel (Aprende) */
.carousel{position:relative; border:1px solid var(--line); border-radius:18px; overflow:hidden; background:var(--card); box-shadow:var(--shadow-md)}
.car-track{display:flex; transition:transform .4s ease; will-change:transform}
.slide{width:100%; flex:0 0 100%; position:relative; background:var(--card)}
.slide img{width:100%; height:auto; max-height:70vh; object-fit:contain; display:block}
.slide iframe{width:100%; height:60vh; max-height:70vh; display:block}
.cap{position:absolute; left:0; right:0; bottom:0; padding:8px 10px; background:rgba(0,0,0,.35); color:#fff; font-weight:800}
.car-btn{position:absolute; top:50%; transform:translateY(-50%); background:var(--card); border:1px solid var(--line); color:var(--ink); width:40px; height:40px; border-radius:50%; cursor:pointer}
.car-btn.prev{left:10px} .car-btn.next{right:10px}

/* ===== Tarjetas de juegos: recorte de desbordes ===== */
.game-block{
  background:var(--card);
  border:1px solid var(--line);
  border-radius:20px;
  padding:20px;
  box-shadow:var(--shadow-md);
  margin-bottom:18px;
  position:relative;
  overflow:hidden;
}

/* ===== Dial Emocion√≥metro (encaja y sin sombra) ===== */
.dial{position:relative; width:min(360px, 100%); margin-inline:auto}
.dial-svg{width:100%; height:auto; display:block}
.dial-bg{fill:#fff; stroke:var(--line); stroke-width:2}
.dial-arc{fill:none; stroke:url(#gMood); stroke-width:14; stroke-linecap:round}
.dial-knob{fill:#fff; stroke:#222; stroke-width:3; filter:none}
.dial-emoji{position:absolute; left:50%; top:54%; transform:translate(-50%,-50%); font-size:42px}
.dial input[type="range"]{width:100%; margin-top:10px; box-sizing:border-box}
.dial-emojis{display:flex; gap:10px; justify-content:center; margin-top:8px}
.dial-emojis button{font-size:26px; background:#fff; border:1px solid var(--line); border-radius:12px; padding:6px 10px; cursor:pointer}
.emo-label{font-weight:800; color:var(--ink-2); text-align:center; margin-top:6px}

/* ===== Rompe el muro ===== */
#muros .wall{
  display:grid;
  gap:12px;
  grid-template-columns:repeat(auto-fit, minmax(150px, 1fr)); /* m√°s ancho para que quepan las palabras */
  width:100%;
}
.brick{
  display:grid; place-items:center; text-align:center;
  min-height:56px; padding:10px 12px; border-radius:14px; border:1px solid var(--line);
  color:#111; font-weight:800; font-size:.95rem;
  transition:transform .12s, opacity .2s;
  cursor:pointer; position:relative; box-shadow:var(--shadow-sm);
  white-space:nowrap;          /* NO partir palabras */
}
.brick.hit::after{content:""; position:absolute; inset:-4px; border-radius:16px; border:2px solid var(--blue); opacity:0; animation:hit .45s ease}
@keyframes hit{0%{opacity:.8; transform:scale(1)} 100%{opacity:0; transform:scale(1.1)}}
.brick.broken-anim{transform-origin:bottom center; transform:scale(.9) rotate(3deg) translateY(10px); opacity:0; transition:transform .3s ease-out, opacity .3s ease-out}
#muros .why{margin-top:10px; font-weight:800; color:var(--ink)}

/* Memorama */
.memory-grid{display:grid; gap:12px; grid-template-columns:repeat(auto-fit, minmax(120px, 1fr))}
.cardm{height:150px; border:1px solid var(--line); border-radius:14px; background:var(--card); position:relative; cursor:pointer; perspective:800px; box-shadow:var(--shadow-sm)}
.cardm-inner{
  position:absolute;
  inset:0;
  transform-style:preserve-3d;
  transition:transform .38s ease;
  /* empieza mostrando el reverso */
  transform:rotateY(180deg);
}

.cardm.revealed .cardm-inner{
  /* al voltear, se ve el frente (imagen + palabra) */
  transform:rotateY(0deg);
}

.cardm-face{
  position:absolute;
  inset:0;
  backface-visibility:hidden;
  border-radius:14px;
  overflow:hidden;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
}

/* Frente: imagen + texto */
.cardm-front{
  border:1px dashed var(--line);
  font-weight:900;
  letter-spacing:.4px;
  text-align:center;
  gap:6px;
}

.cardm-img{
  max-width:60%;
  max-height:60%;
  object-fit:contain;
}

.cardm-label{
  font-size:.9rem;
}

/* Reverso: todas iguales */
.cardm-back{
  transform:rotateY(180deg);
  border:1px solid var(--line);
  background:var(--paper);
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:1.4rem;
}

.cardm-back span{
  pointer-events:none;
}

/* Arma el mensaje */
.chips{display:flex; gap:10px; flex-wrap:wrap; background:var(--blue); border:1px dashed var(--line); border-radius:14px; padding:10px}
.chip{padding:8px 10px; border-radius:10px; border:1px solid var(--line); background:#FFD6E7; color:#111; cursor:grab; font-weight:800; touch-action:none; box-shadow:var(--shadow-sm)}
.chip.dragging{opacity:.5; transform:scale(.95); background:#FFF4B8}
.msg-out{margin-top:10px; font-weight:800}

/* Sem√°foro de las sensaciones */
.traffic-game{
  display:flex;
  flex-wrap:wrap;
  gap:16px;
  margin-top:8px;
}
.traffic-cards{
  flex:1 1 200px;
  display:grid;
  gap:10px;
}
.traffic-card{
  display:flex;
  flex-direction:column;
  align-items:flex-start;
  gap:4px;
  padding:10px 12px;
  border-radius:14px;
  border:1px solid var(--line);
  background:#fff;
  box-shadow:var(--shadow-sm);
  cursor:grab;
}
.traffic-card .emoji{
  font-size:1.6rem;
}
.traffic-card .text{
  font-size:.9rem;
  text-align:left;
}
.traffic-zones{
  flex:1 1 220px;
  display:flex;
  flex-direction:column;
  gap:10px;
}
.traffic-zone{
  min-height:110px;
  border-radius:14px;
  border:1px dashed var(--line);
  padding:10px;
  background:#fdfdfd;
  display:flex;
  flex-direction:column;
  gap:6px;
}
.traffic-zone h4{
  margin:0;
}
.traffic-zone .small{
  margin:0;
}
.traffic-zone.green{
  background:linear-gradient(180deg,#e4ffe9,#ffffff);
}
.traffic-zone.yellow{
  background:linear-gradient(180deg,#fff9e0,#ffffff);
}
.traffic-zone.red{
  background:linear-gradient(180deg,#ffe5e5,#ffffff);
}
.traffic-msg{
  margin-top:8px;
  font-weight:800;
}

/* Ajustes para sem√°foro en modo oscuro (fondos menos brillantes) */
body[data-theme="dark"] .traffic-card{
  background:var(--card);
}
body[data-theme="dark"] .traffic-zone{
  background:color-mix(in oklab, var(--card) 80%, #020617 20%);
}
body[data-theme="dark"] .traffic-zone.green{
  background:linear-gradient(180deg, rgba(34,197,94,.16), #020617);
}
body[data-theme="dark"] .traffic-zone.yellow{
  background:linear-gradient(180deg, rgba(234,179,8,.18), #020617);
}
body[data-theme="dark"] .traffic-zone.red{
  background:linear-gradient(180deg, rgba(248,113,113,.2), #020617);
}

/* Foro */
.forum .alias{border:1px solid var(--line); border-radius:10px; padding:8px 10px; background:var(--card); color:var(--ink)}
.forum textarea{width:100%; border-radius:14px; border:1px solid var(--line); background:var(--card); color:var(--ink); padding:12px; min-height:120px}
.forum-controls{display:flex; gap:16px; flex-wrap:wrap; align-items:center; margin-bottom:10px}
.forum-actions{margin:10px 0} .forum-list{display:grid; gap:14px}
.post{background:var(--card); border:1px solid var(--line); border-radius:14px; padding:12px; position:relative; overflow:hidden; box-shadow:var(--shadow-sm)}
.post::before{content:""; position:absolute; left:-18px; top:-18px; width:100px; height:100px; border:1px dashed var(--line); transform:rotate(12deg); opacity:.08}
.post .meta{font-size:.85rem; color:var(--muted); margin-bottom:6px}
.post .actions{display:flex; gap:8px; margin-top:6px}
.post button{font-size:.85rem; padding:6px 8px; border-radius:8px; border:1px solid var(--line); background:var(--blue); cursor:pointer}
.post .badge{position:absolute; right:8px; top:8px; font-size:.75rem; padding:4px 8px; border-radius:999px; border:1px solid var(--line); background:var(--pink); color:#111}

/* Ayuda */
.help .help-card{background:linear-gradient(180deg, var(--card) 70%, #fff7fb 100%); border:1px solid var(--line); border-radius:16px; padding:16px; min-height:148px; display:flex; flex-direction:column; gap:8px}
.help .help-card h4{margin:0} .help .help-card p{margin:0; color:var(--muted)}
.help .call{display:inline-flex; align-items:center; gap:6px; margin-top:auto; padding:8px 10px; border-radius:10px; background:var(--card); border:1px solid var(--line); text-decoration:none; color:var(--ink); max-width:100%; overflow-wrap:anywhere}
.help-whats-wrap{display:flex; gap:10px; flex-wrap:wrap; margin-top:10px}
.whats-btn{display:inline-block; padding:10px 12px; border-radius:10px; border:1px solid var(--line); background:#FFD6E7; color:#111; text-decoration:none; font-weight:800}

.help-contacts{
  margin-top:12px;
  padding:12px;
  border-radius:14px;
  border:1px dashed var(--line);
  background:rgba(255,255,255,.9);
}
.help-contacts h4{margin:0 0 6px;}
.help-contacts p{margin:0 0 6px; font-size:.9rem;}
.help-contacts a{color:var(--ink-2);}

/* En oscuro que no sea tan blanco brillante */
body[data-theme="dark"] .help-contacts{
  background:rgba(15,23,42,.9);
}

/* Reflexiones */
.blog-grid{display:grid; gap:18px; grid-template-columns:repeat(auto-fit,minmax(260px,1fr))}
.blog-grid.colorful .blog-card{background:linear-gradient(180deg, #ffffff, #fff0f6); border:1px solid var(--line); border-radius:16px; padding:14px; position:relative; overflow:hidden; box-shadow:var(--shadow-md)}
.blog-card .tag{display:inline-block; padding:4px 10px; border-radius:999px; font-size:.8rem; margin-bottom:8px; border:1px solid var(--line); background:#ffe8f1}
.blog-card h4{margin:0 0 6px}
.blog-card::after{content:""; position:absolute; right:-18px; bottom:-18px; width:120px; height:120px; border:1px dashed var(--line); transform:rotate(15deg); opacity:.08}
.blog-grid.colorful .blog-card:nth-child(4n+2){background:linear-gradient(180deg,#fff,#eef6ff)}
.blog-grid.colorful .blog-card:nth-child(4n+3){background:linear-gradient(180deg,#fff,#fff7de)}
.blog-grid.colorful .blog-card:nth-child(4n+4){background:linear-gradient(180deg,#fff,#ffefe8)}

/* Blog en modo oscuro: cartas m√°s oscuras pero con toque pastel */
body[data-theme="dark"] .blog-grid.colorful .blog-card{
  background:linear-gradient(180deg, rgba(15,23,42,.95), rgba(15,23,42,.8));
}
body[data-theme="dark"] .blog-card .tag{
  background:rgba(148,163,184,.16);
}

/* Sobre */
.about-grid{display:grid; gap:18px; grid-template-columns:repeat(auto-fit,minmax(240px,1fr))}
.about-card{border:1px solid var(--line); border-radius:16px; padding:16px; box-shadow:var(--shadow-md); background:var(--card)}
.tone-lilac{background:linear-gradient(180deg,#ffffff,#f5edff)}
.tone-pink{background:linear-gradient(180deg,#ffffff,#ffeaf3)}
.tone-blue{background:linear-gradient(180deg,#ffffff,#eef6ff)}
.tone-peach{background:linear-gradient(180deg,#ffffff,#ffefe8)}
.tone-yellow{background:linear-gradient(180deg,#ffffff,#fff7de)}

/* Tonos en modo oscuro: m√°s sutiles */
body[data-theme="dark"] .tone-lilac{
  background:linear-gradient(180deg,#020617,#111827);
}
body[data-theme="dark"] .tone-pink{
  background:linear-gradient(180deg,#020617,#111827);
}
body[data-theme="dark"] .tone-blue{
  background:linear-gradient(180deg,#020617,#111827);
}
body[data-theme="dark"] .tone-peach{
  background:linear-gradient(180deg,#020617,#111827);
}
body[data-theme="dark"] .tone-yellow{
  background:linear-gradient(180deg,#020617,#111827);
}

/* Footer centrado */
.site-footer{margin-top:28px; padding:24px 20px; background:color-mix(in oklab, var(--ink-2) 6%, var(--paper) 94%); border-top:1px solid var(--line)}
.footer-inner{max-width:1200px; margin:0 auto; display:grid; gap:10px; align-items:center; justify-items:center; text-align:center}
.f-brand{font-weight:800}
.f-links{display:flex; flex-wrap:wrap; gap:10px; justify-content:center}
.f-links a{color:var(--ink-2); text-decoration:none; font-weight:800; border:1px solid var(--line); background:var(--card); padding:6px 10px; border-radius:10px}

/* Accesibilidad */
:focus-visible{outline:2px solid var(--ring); outline-offset:2px}



/* ===== Secci√≥n C√≥mo denunciar ===== */
.denuncia-section{
  max-width:1100px;
  margin:0 auto;
}

#denuncia{
  position:relative; /* para el confeti */
}

/* Men√∫ de pasos */
.denuncia-steps-nav{
  margin:18px 0 24px;
  padding:14px 14px 18px;
  border-radius:18px;
  border:1px solid var(--line);
  background:var(--card);
  box-shadow:var(--shadow-sm);
}

.denuncia-steps-chips{
  display:flex;
  flex-wrap:wrap;
  gap:8px;
  margin-bottom:10px;
}

.denuncia-step-chip{
  font-family:"Fredoka", system-ui;
  font-size:.9rem;
  border-radius:999px;
  border:1px solid var(--line);
  background:var(--paper);
  padding:6px 10px;
  cursor:pointer;
  white-space:nowrap;
}

.denuncia-step-chip.is-active{
  background:#FFD6E7;
  border-color:var(--ring);
}

/* Progreso */
.denuncia-progress{
  display:flex;
  flex-direction:column;
  gap:6px;
}

.denuncia-progress-label{
  font-size:.85rem;
  color:var(--muted);
}

.denuncia-progress-bar{
  width:100%;
  height:6px;
  border-radius:999px;
  background:rgba(0,0,0,.05);
  overflow:hidden;
}

.denuncia-progress-fill{
  height:100%;
  width:12.5%;
  border-radius:999px;
  background:linear-gradient(90deg,#F06543,#FF7AA8,#F2B300);
  transition:width .25s ease-out;
}

/* Bloques de paso */
.denuncia-step{
  background:var(--card);
  border:1px solid var(--line);
  border-radius:18px;
  padding:18px 16px 18px;
  margin-bottom:18px;
  box-shadow:var(--shadow-md);
}

/* Grid de confianza */
.trust-grid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(180px,1fr));
  gap:10px;
  margin-top:10px;
}

.trust-card{
  border-radius:14px;
  border:1px solid var(--line);
  background:var(--paper);
  padding:10px 8px;
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:4px;
  cursor:pointer;
  box-shadow:var(--shadow-sm);
  transition:
    transform .18s ease,
    box-shadow .18s ease,
    border-color .18s ease,
    background-color .18s ease,
    opacity .18s ease;
}

.trust-card:hover{
  transform:translateY(-1px);
  box-shadow:var(--shadow-md);
}

.trust-emoji{
  font-size:1.6rem;
}

.trust-label{
  font-size:.85rem;
  text-align:center;
}

/* Estados al hacer clic */
.trust-card.selected.ok{
  border-color:#16a34a;
  background:linear-gradient(180deg,#dcfce7,var(--paper));
}

.trust-card.selected.warn{
  border-color:#ef4444;
  background:linear-gradient(180deg,#fee2e2,var(--paper));
}

/* Animaci√≥n de desaparecer tarjeta buena */
.trust-card.gone{
  animation:trust-pop-out .35s ease forwards;
}

@keyframes trust-pop-out{
  to{
    transform:translateY(-8px) scale(.7) rotate(-3deg);
    opacity:0;
  }
}

/* Shake suave al fallar */
.trust-card.shake{
  animation:trust-shake .25s ease;
}

@keyframes trust-shake{
  0%{transform:translateX(0)}
  25%{transform:translateX(-4px)}
  50%{transform:translateX(4px)}
  75%{transform:translateX(-4px)}
  100%{transform:translateX(0)}
}

/* Bot√≥n repetir peque√±ito */
.trust-reset{
  margin-top:10px;
  padding:6px 12px;
  font-size:.85rem;
}

/* üéâ Confeti */
.confetti-layer{
  pointer-events:none;
  position:absolute;
  inset:0;
  overflow:hidden;
  z-index:5;
}

.confetti-piece{
  position:absolute;
  top:-12px;
  width:6px;
  height:12px;
  border-radius:2px;
  opacity:0;
  animation:confetti-fall 1.3s ease-out forwards;
}

@keyframes confetti-fall{
  0%{
    transform:translate3d(0,0,0) rotateZ(0deg);
    opacity:1;
  }
  100%{
    transform:translate3d(0,240px,0) rotateZ(260deg);
    opacity:0;
  }
}

/* Modo oscuro ajustes suaves */
body[data-theme="dark"] .denuncia-steps-nav{
  background:color-mix(in oklab,var(--card) 90%,#020617 10%);
}

body[data-theme="dark"] .denuncia-step{
  background:color-mix(in oklab,var(--card) 95%,#020617 5%);
}

body[data-theme="dark"] .denuncia-progress-bar{
  background:rgba(148,163,184,.26);
}

body[data-theme="dark"] .trust-card{
  background:color-mix(in oklab,var(--card) 90%,#020617 10%);
}


/* Roles en Paso 2 */
.denuncia-roles{
  margin-top:12px;
  display:flex;
  flex-direction:column;
  gap:10px;
}

.denuncia-roles-toggles{
  display:flex;
  flex-wrap:wrap;
  gap:8px;
}

.role-toggle{
  font-family:"Fredoka", system-ui;
  font-size:.85rem;
  border-radius:999px;
  border:1px solid var(--line);
  background:var(--paper);
  padding:6px 10px;
  cursor:pointer;
  display:flex;
  align-items:center;
  gap:4px;
}

.role-toggle.is-active{
  background:#CFEAFF;
  border-color:var(--ring);
}

.denuncia-roles-panel{
  padding:10px 12px;
  border-radius:14px;
  border:1px dashed var(--line);
  background:color-mix(in oklab,var(--card) 96%,#ffffff 4%);
}

/* Ajuste modo oscuro */
body[data-theme="dark"] .denuncia-roles-panel{
  background:color-mix(in oklab,var(--card) 92%,#020617 8%);
}


/* Paso 3: checklist interactiva */
.denuncia-checklist{
  margin-top:10px;
  display:flex;
  flex-direction:column;
  gap:8px;
}

.denuncia-checklist-status{
  padding:8px 10px;
  border-radius:12px;
  border:1px dashed var(--line);
  background:color-mix(in oklab,var(--card) 96%,#ffffff 4%);
}

.denuncia-checklist-grid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
  gap:8px;
}

.check-pill{
  width:100%;
  text-align:left;
  border-radius:999px;
  border:1px solid var(--line);
  background:var(--paper);
  padding:6px 10px;
  display:flex;
  align-items:flex-start;
  gap:6px;
  cursor:pointer;
  box-shadow:var(--shadow-sm);
  font-size:.9rem;
  transition:
    background-color .16s ease,
    border-color .16s ease,
    box-shadow .16s ease,
    transform .12s ease;
}

.check-pill:hover{
  transform:translateY(-1px);
  box-shadow:var(--shadow-md);
}

.check-mark{
  font-size:1.1rem;
  line-height:1;
  margin-top:1px;
}

.check-text{
  flex:1;
}

.check-pill.is-checked{
  border-color:#16a34a;
  background:linear-gradient(180deg,#dcfce7,var(--paper));
}

.check-pill.is-checked .check-mark{
  content:"‚òë";
}

/* Modo oscuro ajuste */
body[data-theme="dark"] .denuncia-checklist-status{
  background:color-mix(in oklab,var(--card) 92%,#020617 8%);
}

body[data-theme="dark"] .check-pill{
  background:color-mix(in oklab,var(--card) 90%,#020617 10%);
}

/* Paso 4: stepper de proceso */
.denuncia-flow{
  margin-top:12px;
  display:flex;
  flex-direction:column;
  gap:12px;
}

.denuncia-flow-steps{
  display:flex;
  flex-wrap:wrap;
  gap:10px;
  justify-content:space-between;
  position:relative;
}

/* L√≠nea de fondo opcional (solo cuando hay espacio horizontal) */
@media (min-width: 640px){
  .denuncia-flow-steps::before{
    content:"";
    position:absolute;
    left:10%;
    right:10%;
    top:22px;
    height:2px;
    background:rgba(0,0,0,.08);
    z-index:0;
  }
}

.flow-node{
  position:relative;
  z-index:1;
  flex:1 1 120px;
  min-width:120px;
  max-width:160px;
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:4px;
  background:transparent;
  border:none;
  cursor:pointer;
}

.flow-number{
  width:32px;
  height:32px;
  border-radius:999px;
  display:grid;
  place-items:center;
  font-weight:800;
  border:2px solid var(--line);
  background:var(--paper);
  box-shadow:var(--shadow-sm);
  font-size:.9rem;
}

.flow-label{
  font-size:.75rem;
  text-align:center;
  color:var(--muted);
}

/* Activo */
.flow-node.is-active .flow-number{
  border-color:var(--ring);
  background:linear-gradient(180deg,#FFD6E7,#FFF4B8);
}

.flow-node.is-active .flow-label{
  color:var(--ink-2);
}

/* Paneles */
.denuncia-flow-panels{
  padding:10px 12px;
  border-radius:14px;
  border:1px solid var(--line);
  background:var(--card);
  box-shadow:var(--shadow-sm);
}

.flow-panel h4{
  margin-top:0;
}

/* Modo oscuro */
body[data-theme="dark"] .denuncia-flow-steps::before{
  background:rgba(148,163,184,.3);
}

body[data-theme="dark"] .denuncia-flow-panels{
  background:color-mix(in oklab,var(--card) 94%,#020617 6%);
}

/* Paso 5: elementos de prueba interactivos */
.evidence-wrap{
  margin-top:10px;
  display:flex;
  flex-direction:column;
  gap:10px;
}

.evidence-chips{
  display:flex;
  flex-wrap:wrap;
  gap:8px;
}

.evidence-chip{
  font-family:"Fredoka", system-ui;
  font-size:.85rem;
  border-radius:999px;
  border:1px solid var(--line);
  background:var(--paper);
  padding:6px 10px;
  cursor:pointer;
  display:flex;
  align-items:center;
  gap:4px;
  box-shadow:var(--shadow-sm);
  transition:
    background-color .16s ease,
    border-color .16s ease,
    box-shadow .16s ease,
    transform .12s ease;
}

.evidence-chip:hover{
  transform:translateY(-1px);
  box-shadow:var(--shadow-md);
}

.evidence-chip.is-active{
  background:#FFEAF3;
  border-color:var(--ring);
}

.evidence-panel{
  padding:10px 12px;
  border-radius:14px;
  border:1px dashed var(--line);
  background:color-mix(in oklab,var(--card) 96%,#ffffff 4%);
  box-shadow:var(--shadow-sm);
}

.evidence-detail h4{
  margin-top:0;
}

/* Modo oscuro */
body[data-theme="dark"] .evidence-panel{
  background:color-mix(in oklab,var(--card) 92%,#020617 8%);
}

/* Paso 6: l√≠nea de tiempo animada */
.denuncia-timeline{
  margin-top:10px;
  display:grid;
  gap:12px;
}

.timeline-stages{
  position:relative;
  display:flex;
  flex-direction:column;
  gap:10px;
}

/* L√≠nea vertical de fondo */
.timeline-stages::before{
  content:"";
  position:absolute;
  left:16px;
  top:8px;
  bottom:8px;
  width:2px;
  background:rgba(0,0,0,.08);
}

/* En pantallas anchas, horizontal */
@media (min-width: 720px){
  .denuncia-timeline{
    grid-template-columns:minmax(220px, 280px) 1fr;
    align-items:flex-start;
  }
  .timeline-stages{
    flex-direction:column;
  }
  .timeline-stages::before{
    left:18px;
    right:auto;
  }
}

.timeline-node{
  position:relative;
  z-index:1;
  padding-left:36px;
  padding-right:8px;
  padding-top:4px;
  padding-bottom:4px;
  border-radius:12px;
  border:none;
  background:transparent;
  text-align:left;
  cursor:pointer;
  display:flex;
  align-items:center;
  gap:6px;
}

.timeline-dot{
  position:absolute;
  left:10px;
  width:12px;
  height:12px;
  border-radius:999px;
  border:2px solid var(--line);
  background:var(--paper);
  box-shadow:var(--shadow-sm);
}

.timeline-label{
  font-size:.85rem;
  color:var(--muted);
}

/* Nodo activo */
.timeline-node.is-active{
  background:color-mix(in oklab,var(--card) 96%,#fff0f6 4%);
}

.timeline-node.is-active .timeline-dot{
  border-color:var(--ring);
  background:linear-gradient(180deg,#FFD6E7,#FFF4B8);
  animation:timeline-pulse 1.2s ease-out infinite;
}

.timeline-node.is-active .timeline-label{
  color:var(--ink-2);
  font-weight:700;
}

@keyframes timeline-pulse{
  0%{box-shadow:0 0 0 0 rgba(124,77,255,.28);}
  100%{box-shadow:0 0 0 10px rgba(124,77,255,0);}
}

/* Paneles */
.timeline-panels{
  padding:10px 12px;
  border-radius:16px;
  border:1px solid var(--line);
  background:var(--card);
  box-shadow:var(--shadow-sm);
}

.timeline-panel{
  animation:panel-slide-in .25s ease-out;
}

.timeline-panel[hidden]{
  display:none;
}

.timeline-panel.is-active{
  animation:panel-slide-in .25s ease-out;
}

@keyframes panel-slide-in{
  0%{
    opacity:0;
    transform:translateY(6px);
  }
  100%{
    opacity:1;
    transform:translateY(0);
  }
}

/* Emociones */
.timeline-emotions{
  margin-top:14px;
  padding:10px 12px;
  border-radius:14px;
  border:1px dashed var(--line);
  background:color-mix(in oklab,var(--card) 96%,#eef6ff 4%);
}

.emotion-buttons{
  display:flex;
  flex-wrap:wrap;
  gap:8px;
  margin-top:6px;
  margin-bottom:4px;
}

.emotion-btn{
  font-family:"Fredoka", system-ui;
  font-size:.85rem;
  border-radius:999px;
  border:1px solid var(--line);
  background:var(--paper);
  padding:6px 10px;
  cursor:pointer;
  display:flex;
  align-items:center;
  gap:4px;
  box-shadow:var(--shadow-sm);
  transition:
    background-color .16s ease,
    border-color .16s ease,
    box-shadow .16s ease,
    transform .12s ease;
}

.emotion-btn:hover{
  transform:translateY(-1px);
  box-shadow:var(--shadow-md);
}

.emotion-btn.is-active{
  background:#CFEAFF;
  border-color:var(--ring);
}

.emotion-message{
  min-height:1.3em;
}

/* Modo oscuro */
body[data-theme="dark"] .timeline-stages::before{
  background:rgba(148,163,184,.4);
}

body[data-theme="dark"] .timeline-panels{
  background:color-mix(in oklab,var(--card) 94%,#020617 6%);
}

body[data-theme="dark"] .timeline-emotions{
  background:color-mix(in oklab,var(--card) 92%,#020617 8%);
}

/* ===========================================
   PASO 7 ‚Äî CARRUSEL DE M√âTODOS DE DENUNCIA
   (VERSI√ìN ESTABLE)
=========================================== */

.method-carousel{
  margin-top:12px;
  position:relative;
}

/* Ventana del carrusel */
.method-track-wrap{
  margin-top:8px;
  border-radius:18px;
  border:1px solid var(--line);
  background:var(--card);
  overflow:hidden;              /* mantiene el slide dentro del cuadro */
  box-shadow:var(--shadow-md);
}

/* Pista deslizante */
.method-track{
  display:flex;
  transition:transform .35s ease-out;
  will-change:transform;
}

/* Cada slide ocupa todo el ancho */
.method-slide{
  flex:0 0 100%;
  width:100%;
}

/* Contenido interno de cada slide */
.method-slide-inner{
  padding:16px 18px 16px;
  min-height:220px;             /* altura m√≠nima para que no se vea franja */
  display:flex;
  flex-direction:column;
  justify-content:flex-start;
}

/* Fondos por tipo */
.method-slide-inner.presencial{
  background:linear-gradient(180deg,#ffffff,#fff4e5);
}

.method-slide-inner.telefono{
  background:linear-gradient(180deg,#ffffff,#e7f3ff);
}

.method-slide-inner.online{
  background:linear-gradient(180deg,#ffffff,#ffeaf7);
}

/* Cabecera */
.method-header{
  display:flex;
  align-items:center;
  gap:8px;
  margin-bottom:6px;
}

.method-header h4{
  margin:0;
}

.method-emoji{
  font-size:2rem;
}

/* Etiqueta superior */
.method-tag{
  display:inline-block;
  font-size:.75rem;
  border-radius:999px;
  border:1px solid var(--line);
  padding:3px 8px;
  margin-bottom:6px;
  background:rgba(255,255,255,.85);
}

/* Flechas de navegaci√≥n */
.method-nav{
  position:absolute;
  top:calc(50% + 4px);
  transform:translateY(-50%);
  width:34px;
  height:34px;
  border-radius:999px;
  border:1px solid var(--line);
  background:var(--card);
  display:grid;
  place-items:center;
  cursor:pointer;
  box-shadow:var(--shadow-sm);
  font-size:1.4rem;
  line-height:1;
  padding:0;
  z-index:3;                    /* por encima del cuadro */
}

.method-nav.prev{ left:12px; }
.method-nav.next{ right:12px; }

@media (max-width: 720px){
  .method-nav.prev{ left:8px; }
  .method-nav.next{ right:8px; }
}

/* Puntos del carrusel */
.method-dots{
  display:flex;
  justify-content:center;
  gap:6px;
  margin-top:10px;
  margin-bottom:4px;
}

.method-dot{
  width:8px;
  height:8px;
  border-radius:999px;
  border:none;
  padding:0;
  background:rgba(148,163,184,.5);
  cursor:pointer;
  transition:
    transform .16s ease,
    background-color .16s ease,
    width .16s ease;
}

.method-dot.is-active{
  width:18px;
  background:#7C4DFF;
  transform:translateY(-1px);
}

/* Contador bajo los puntos */
.method-counter{
  text-align:center;
  color:var(--muted);
}

/* ===== Modo oscuro ===== */
body[data-theme="dark"] .method-track-wrap{
  background:color-mix(in oklab,var(--card) 92%,#020617 8%);
}

body[data-theme="dark"] .method-slide-inner.presencial,
body[data-theme="dark"] .method-slide-inner.telefono,
body[data-theme="dark"] .method-slide-inner.online{
  background:color-mix(in oklab,var(--card) 94%,#020617 6%);
}

/* ===============================
   Paso 8 ‚Äî FAQ + Apoyo emocional
================================ */

.faq-list{
  display:grid;
  gap:10px;
  margin-top:10px;
}

.faq-item{
  border:1px solid var(--line);
  border-radius:14px;
  background:var(--card);
  box-shadow:var(--shadow-sm);
  overflow:hidden;
}

.faq-question{
  width:100%;
  text-align:left;
  background:var(--paper);
  border:none;
  padding:12px 14px;
  font-family:"Fredoka";
  cursor:pointer;
  font-size:1rem;
  border-bottom:1px solid var(--line);
}

.faq-question:hover{
  background:color-mix(in oklab, var(--paper) 90%, #FFD6E7 10%);
}

.faq-answer{
  padding:10px 14px;
  animation:faqSlide .25s ease-out;
}

@keyframes faqSlide{
  0%{ opacity:0; transform:translateY(-4px); }
  100%{ opacity:1; transform:translateY(0); }
}

/* Consejos */
.wait-advice{
  display:flex;
  flex-wrap:wrap;
  gap:8px;
  margin:10px 0;
}

.advice-chip{
  border-radius:999px;
  border:1px solid var(--line);
  background:var(--paper);
  padding:6px 12px;
  cursor:pointer;
  font-family:"Fredoka";
  font-size:.9rem;
  transition:
    background-color .15s ease,
    transform .12s ease;
}

.advice-chip:hover{
  transform:translateY(-2px);
  background:#FFEAF3;
}

.advice-chip.is-active{
  background:#FFD6E7;
  border-color:var(--ring);
}

.advice-panel{
  min-height:1.2em;
  padding:6px 2px;
}

/* Tarjetas de apoyo */
.support-grid{
  margin-top:12px;
  display:grid;
  gap:12px;
  grid-template-columns:repeat(auto-fit, minmax(200px,1fr));
}

.support-card{
  border:1px solid var(--line);
  border-radius:16px;
  padding:14px;
  text-decoration:none;
  background:var(--card);
  box-shadow:var(--shadow-sm);
  color:inherit;
  display:flex;
  flex-direction:column;
  gap:6px;
  transition:transform .12s ease, box-shadow .15s ease;
}

.support-card:hover{
  transform:translateY(-2px);
  box-shadow:var(--shadow-md);
}

.support-emoji{
  font-size:1.7rem;
}

.support-title{
  font-weight:800;
}

/* =====================================
   Foro nuevo: tarjetas + hilo modal
===================================== */

.support-forum{
  border-radius:20px;
  border:1px solid var(--line);
  background:var(--card);
  box-shadow:var(--shadow-md);
  padding:14px 16px 12px;
  max-width:900px;
  margin-inline:auto;
}

/* Barra superior: an√≥nimo / cuenta */
.sf-topbar{
  display:flex;
  align-items:center;
  justify-content:space-between;
  margin-bottom:10px;
}

.sf-anon-toggle{
  display:inline-flex;
  align-items:center;
  gap:6px;
  font-size:.9rem;
}

.sf-anon-toggle input{
  width:16px;
  height:16px;
}

/* pastilla "crear cuenta" (solo visual por ahora) */
.sf-account-pill{
  border-radius:999px;
  border:1px solid var(--line);
  background:var(--paper);
  padding:4px 10px 4px 12px;
  display:inline-flex;
  align-items:center;
  gap:6px;
  font-size:.85rem;
  cursor:pointer;
}

.sf-account-dot{
  width:16px;
  height:16px;
  border-radius:999px;
  border:1px solid var(--ring);
}

/* Tablero principal */
.sf-board{
  border-radius:16px;
  border:1px solid var(--line);
  background:color-mix(in oklab,var(--card) 96%,#ffffff 4%);
  padding:10px 10px 12px;
  box-shadow:var(--shadow-sm);
}

/* Tira superior de tarjetas peque√±as */
.sf-thread-strip{
  display:flex;
  gap:8px;
  margin-bottom:10px;
  overflow-x:auto;
  padding-bottom:4px;
}

.sf-strip-card{
  min-width:80px;
  max-width:120px;
  border-radius:12px;
  border:1px solid var(--line);
  background:var(--paper);
  padding:8px 6px;
  font-size:.75rem;
  position:relative;
  cursor:pointer;
  flex-shrink:0;
}

.sf-strip-heart{
  position:absolute;
  right:6px;
  bottom:4px;
  font-size:.9rem;
}

/* √Årea grande de comentarios */
.sf-board-inner{
  border-radius:14px;
  border:1px dashed var(--line);
  background:rgba(255,255,255,.7);
  padding:8px;
  min-height:120px;
}

.sf-empty{
  font-size:.85rem;
  color:var(--muted);
}

.sf-thread-list{
  display:grid;
  gap:8px;
  margin-top:4px;
}

.sf-thread-card{
  border-radius:12px;
  border:1px solid var(--line);
  background:var(--paper);
  padding:8px 10px;
  position:relative;
  cursor:pointer;
  display:flex;
  flex-direction:column;
  gap:4px;
}

.sf-thread-meta{
  display:flex;
  justify-content:space-between;
  align-items:center;
  font-size:.8rem;
  color:var(--muted);
}

.sf-thread-actions{
  display:flex;
  gap:10px;
  font-size:.8rem;
}

.sf-like-btn,
.sf-reply-count{
  display:inline-flex;
  align-items:center;
  gap:4px;
}

.sf-like-btn button{
  border:none;
  background:transparent;
  cursor:pointer;
  font-size:.9rem;
}

/* Formulario inferior */
.sf-form{
  margin-top:10px;
  display:flex;
  flex-direction:column;
  gap:6px;
}

.sf-alias{
  width:100%;
  border-radius:999px;
  border:1px solid var(--line);
  padding:6px 10px;
  font-size:.85rem;
}

.sf-input-row{
  display:flex;
  gap:8px;
  margin-top:2px;
}

.sf-input{
  flex:1;
  border-radius:999px;
  border:1px solid var(--line);
  padding:8px 12px;
  font-size:.9rem;
}

.sf-send-btn{
  border-radius:999px;
  border:1px solid var(--line);
  padding:8px 14px;
  background:#FFD6E7;
  font-family:"Fredoka";
  font-size:.9rem;
  cursor:pointer;
}

.sf-footer-row{
  min-height:1.1em;
}

.sf-cooldown{
  font-size:.8rem;
  color:var(--muted);
}
/* ===== Foro: avatar + cabecera bonita ===== */

.sf-thread-card{
  background:var(--card);
  border:1px solid var(--line);
  border-radius:16px;
  padding:12px 14px 10px;
  box-shadow:var(--shadow-sm);
  position:relative;
  cursor:pointer;
  transition:transform .08s ease, box-shadow .12s ease, border-color .12s ease;
}

.sf-thread-card:hover{
  transform:translateY(-1px);
  box-shadow:var(--shadow-md);
  border-color:color-mix(in oklab, var(--ring) 40%, var(--line) 60%);
}

/* cabecera: avatar + alias + tiempo */
.sf-thread-head{
  display:flex;
  align-items:flex-start;
  gap:10px;
  margin-bottom:6px;
}

.sf-thread-avatar{
  width:36px;
  height:36px;
  border-radius:999px;
  overflow:hidden;
  background:linear-gradient(135deg, var(--blue), var(--lilac));
  display:flex;
  align-items:center;
  justify-content:center;
  flex-shrink:0;
  box-shadow:0 0 0 2px rgba(255,255,255,.6);
}

.sf-thread-avatar img{
  width:100%;
  height:100%;
  object-fit:cover;
  display:block;
}

.sf-avatar-placeholder{
  font-size:18px;
}

/* alias + tiempo */
.sf-thread-meta{
  display:flex;
  flex-direction:column;
  gap:2px;
}

.sf-thread-alias{
  font-weight:800;
  font-size:.95rem;
  color:var(--ink-2);
}

.sf-thread-time{
  font-size:.8rem;
  color:var(--muted);
}

/* texto del hilo */
.sf-thread-text{
  margin-bottom:8px;
  line-height:1.4;
}

/* acciones (like + respuestas) ya las tienes, pero reforzamos un poco el layout */
.sf-thread-actions{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:10px;
}

/* ===== Modal de hilo: avatar tambi√©n ===== */

.thread-msg{
  background:var(--card);
  border-radius:14px;
  border:1px solid var(--line);
  padding:10px 12px;
  margin-bottom:8px;
}

.thread-msg-head{
  display:flex;
  align-items:flex-start;
  gap:8px;
  margin-bottom:4px;
}

.thread-msg-avatar{
  width:32px;
  height:32px;
  border-radius:999px;
  overflow:hidden;
  background:linear-gradient(135deg, var(--pink), var(--peach));
  display:flex;
  align-items:center;
  justify-content:center;
  flex-shrink:0;
}

.thread-msg-avatar img{
  width:100%;
  height:100%;
  object-fit:cover;
  display:block;
}

.thread-avatar-placeholder{
  font-size:16px;
}

.thread-msg-meta{
  display:flex;
  flex-direction:column;
  gap:2px;
}

.thread-msg-alias{
  font-weight:800;
  font-size:.9rem;
  color:var(--ink-2);
}

.thread-msg-time{
  font-size:.8rem;
  color:var(--muted);
}

.thread-msg-text{
  line-height:1.45;
}


/* ===== Modal de hilo ===== */

.thread-modal{
  position:fixed;
  inset:0;
  z-index:30;
  display:flex;
  align-items:center;
  justify-content:center;
}

/* üîß IMPORTANTE: si tiene hidden, no se ve */
.thread-modal[hidden]{
  display:none !important;
}


.thread-backdrop{
  position:absolute;
  inset:0;
  background:rgba(15,23,42,.48);
  backdrop-filter:blur(4px);
}

.thread-window{
  position:relative;
  z-index:1;
  width:min(520px, 92vw);
  max-height:80vh;
  border-radius:20px;
  border:1px solid var(--line);
  background:var(--card);
  box-shadow:var(--shadow-lg);
  padding:14px 16px 12px;
  display:flex;
  flex-direction:column;
  gap:8px;
}

.thread-title{
  margin:0 0 4px;
}

.thread-close{
  position:absolute;
  top:6px;
  right:8px;
  border:none;
  background:transparent;
  font-size:20px;
  cursor:pointer;
}

.thread-scroll{
  flex:1;
  overflow:auto;
  padding-right:6px;
  margin-top:4px;
  display:grid;
  gap:8px;
}

/* Mensajes dentro del hilo (tipo timeline) */
.thread-msg{
  border-radius:10px;
  border:1px solid var(--line);
  background:var(--paper);
  padding:6px 8px;
  font-size:.9rem;
  position:relative;
}

.thread-msg-meta{
  font-size:.75rem;
  color:var(--muted);
  margin-bottom:2px;
}

.thread-msg::before{
  content:"";
  position:absolute;
  left:-6px;
  top:10px;
  width:6px;
  height:6px;
  border-radius:999px;
  background:var(--ring);
}

.thread-reply-form{
  margin-top:6px;
  display:flex;
  gap:6px;
}

.thread-reply-input{
  flex:1;
  border-radius:999px;
  border:1px solid var(--line);
  padding:6px 10px;
  font-size:.85rem;
}

.thread-reply-btn{
  border-radius:999px;
  border:1px solid var(--line);
  padding:6px 12px;
  background:#CFEAFF;
  font-family:"Fredoka";
  font-size:.85rem;
  cursor:pointer;
}

/* Modo oscuro ajustes */
body[data-theme="dark"] .support-forum{
  background:color-mix(in oklab,var(--card) 94%,#020617 6%);
}

body[data-theme="dark"] .sf-board{
  background:color-mix(in oklab,var(--card) 92%,#020617 8%);
}

body[data-theme="dark"] .sf-board-inner{
  background:color-mix(in oklab,var(--card) 94%,#020617 6%);
}

body[data-theme="dark"] .thread-backdrop{
  background:rgba(15,23,42,.7);
}

/* ===== Mejoras visuales foro: color + coraz√≥n ===== */

/* Fondo del contenedor principal del foro */
.support-forum{
  background:linear-gradient(
    180deg,
    color-mix(in oklab,var(--card) 90%, var(--lilac) 10%),
    color-mix(in oklab,var(--card) 94%, var(--blue) 6%)
  );
  border-color:color-mix(in oklab,var(--line) 60%, var(--lilac) 40%);
}

/* Marco donde est√°n los comentarios */
.sf-board{
  background:linear-gradient(
    180deg,
    color-mix(in oklab,var(--card) 94%, var(--blue) 6%),
    color-mix(in oklab,var(--card) 96%, var(--pink) 4%)
  );
}

/* Interior del tablero con un toque suave */
.sf-board-inner{
  background:linear-gradient(
    180deg,
    color-mix(in oklab,#ffffff 90%, var(--blue) 10%),
    #ffffff
  );
}

/* Tarjetitas de la tira superior */
.sf-strip-card{
  background:linear-gradient(
    180deg,
    color-mix(in oklab,#ffffff 92%, var(--peach) 8%),
    #ffffff
  );
}

/* Tarjetas grandes de comentarios */
.sf-thread-card{
  background:linear-gradient(
    180deg,
    #ffffff,
    color-mix(in oklab,#ffffff 90%, var(--pink) 10%)
  );
}

/* Bot√≥n "crear cuenta" un poco m√°s vistoso */
.sf-account-pill{
  background:linear-gradient(
    90deg,
    color-mix(in oklab,#ffffff 88%, var(--pink) 12%),
    color-mix(in oklab,#ffffff 88%, var(--lilac) 12%)
  );
}

/* Corazones rojos */
.sf-like-btn button,
.sf-strip-heart{
  color:#e11d48; /* rojo frambuesa */
}

/* Bot√≥n de like m√°s c√≥modo de tocar */
.sf-like-btn button{
  font-size:1rem;
  line-height:1;
}

/* Animaci√≥n de latido */
@keyframes heartBeat{
  0%{ transform:scale(1); }
  30%{ transform:scale(1.3); }
  60%{ transform:scale(0.95); }
  100%{ transform:scale(1); }
}

/* Clase que dispara la animaci√≥n */
.sf-heart-btn.is-pulsing{
  animation:heartBeat 0.45s ease-out;
  transform-origin:center;
}

/* Modal un poco m√°s dulce */
.thread-window{
  background:linear-gradient(
    180deg,
    color-mix(in oklab,var(--card) 94%, var(--blue) 6%),
    color-mix(in oklab,var(--card) 94%, var(--pink) 6%)
  );
}

.sf-account-pill.is-logged{
  border-color:var(--ring);
  background:linear-gradient(90deg,#FFD6E7,#CFEAFF);
}

/* =====================================
   FORO ¬∑ dise√±o colorido y suave
===================================== */

/* Fondo general de la secci√≥n foro */
.section.forum{
  position:relative;
}

.section.forum::before{
  content:"";
  position:absolute;
  inset:-40px 0 auto;
  height:160px;
  background:
    radial-gradient(18rem 12rem at 0% 0%, rgba(255,214,231,.55) 0 70%, transparent 71%),
    radial-gradient(18rem 12rem at 100% 0%, rgba(207,234,255,.55) 0 70%, transparent 71%);
  opacity:.8;
  pointer-events:none;
  z-index:-1;
}

/* CONTENEDOR PRINCIPAL */
.support-forum{
  position:relative;
  border-radius:24px;
  border:1px solid color-mix(in oklab,var(--line) 60%, var(--lilac) 40%);
  padding:16px 18px 14px;
  max-width:960px;
  margin-inline:auto;
  background:
    linear-gradient(180deg,
      color-mix(in oklab,var(--card) 88%, var(--lilac) 12%),
      color-mix(in oklab,var(--card) 92%, var(--blue) 8%));
  box-shadow:var(--shadow-lg);
}

/* Tira decorativa arriba */
.support-forum::before{
  content:"";
  position:absolute;
  left:18px;
  right:18px;
  top:10px;
  height:6px;
  border-radius:999px;
  background:linear-gradient(90deg,#FFD6E7,#E5D6FF,#CFEAFF,#FFF4B8);
  opacity:.8;
}

/* Barra superior: an√≥nimo / cuenta */
.sf-topbar{
  display:flex;
  align-items:center;
  justify-content:space-between;
  margin-top:10px;
  margin-bottom:12px;
}

.sf-anon-toggle{
  display:inline-flex;
  align-items:center;
  gap:6px;
  font-size:.9rem;
}

.sf-anon-toggle input{
  width:16px;
  height:16px;
}

/* pastilla "crear cuenta" */
.sf-account-pill{
  border-radius:999px;
  border:1px solid var(--line);
  padding:4px 12px 4px 14px;
  display:inline-flex;
  align-items:center;
  gap:6px;
  font-size:.85rem;
  cursor:pointer;
  background:linear-gradient(
    90deg,
    color-mix(in oklab,#ffffff 85%, var(--pink) 15%),
    color-mix(in oklab,#ffffff 85%, var(--lilac) 15%)
  );
  box-shadow:var(--shadow-sm);
}

.sf-account-pill.is-logged{
  border-color:var(--ring);
  box-shadow:0 0 0 2px color-mix(in oklab,var(--ring) 40%, transparent 60%);
}

.sf-account-dot{
  width:14px;
  height:14px;
  border-radius:999px;
  border:1px solid var(--ring);
  background:#fff;
}

/* TABLERO PRINCIPAL */
.sf-board{
  border-radius:18px;
  border:1px solid color-mix(in oklab,var(--line) 70%, var(--blue) 30%);
  padding:10px 10px 12px;
  background:
    radial-gradient(circle at 0 0, rgba(255,214,231,.5) 0 40%, transparent 41%),
    radial-gradient(circle at 100% 0, rgba(207,234,255,.45) 0 40%, transparent 41%),
    linear-gradient(180deg,
      color-mix(in oklab,var(--card) 96%, var(--blue) 4%),
      color-mix(in oklab,var(--card) 96%, var(--pink) 4%));
  box-shadow:var(--shadow-md);
}

/* Tira superior de mini tarjetas */
.sf-thread-strip{
  display:flex;
  gap:8px;
  margin-bottom:10px;
  overflow-x:auto;
  padding:4px 2px 6px;
}

.sf-thread-strip::-webkit-scrollbar{
  height:4px;
}
.sf-thread-strip::-webkit-scrollbar-thumb{
  border-radius:999px;
  background:rgba(148,163,184,.6);
}

.sf-strip-card{
  min-width:90px;
  max-width:130px;
  border-radius:14px;
  border:1px solid var(--line);
  padding:8px 8px 10px;
  font-size:.75rem;
  position:relative;
  cursor:pointer;
  flex-shrink:0;
  background:linear-gradient(
    180deg,
    #ffffff,
    color-mix(in oklab,#ffffff 80%, var(--peach) 20%)
  );
  box-shadow:var(--shadow-sm);
}

.sf-strip-text{
  max-height:3.1em;
  overflow:hidden;
}

/* coraz√≥n */
.sf-strip-heart{
  position:absolute;
  right:8px;
  bottom:6px;
  font-size:.85rem;
  color:#e11d48;
}

/* CUADRO GRANDE DE MENSAJES */
.sf-board-inner{
  border-radius:16px;
  border:1px dashed var(--line);
  padding:10px 8px;
  min-height:130px;
  background:linear-gradient(
    180deg,
    color-mix(in oklab,#ffffff 90%, var(--blue) 10%),
    #ffffff
  );
}

.sf-empty{
  font-size:.9rem;
  color:var(--muted);
}

/* LISTA DE HILOS */
.sf-thread-list{
  display:grid;
  gap:10px;
  margin-top:6px;
}

.sf-thread-card{
  position:relative;
  border-radius:14px;
  border:1px solid var(--line);
  padding:9px 10px 8px 12px;
  cursor:pointer;
  display:flex;
  flex-direction:column;
  gap:4px;
  background:linear-gradient(
    180deg,
    #ffffff,
    color-mix(in oklab,#ffffff 85%, var(--pink) 15%)
  );
  box-shadow:var(--shadow-sm);
}

/* barrita de color a la izquierda */
.sf-thread-card::before{
  content:"";
  position:absolute;
  left:0;
  top:8px;
  bottom:8px;
  width:4px;
  border-radius:999px;
  background:linear-gradient(180deg,#FF7AA8,#7C4DFF);
}

.sf-thread-meta{
  display:flex;
  justify-content:space-between;
  align-items:center;
  font-size:.8rem;
  color:var(--muted);
}

.sf-thread-text{
  font-size:.9rem;
}

/* acciones */
.sf-thread-actions{
  display:flex;
  gap:12px;
  font-size:.8rem;
  align-items:center;
  margin-top:2px;
}

.sf-like-btn,
.sf-reply-count{
  display:inline-flex;
  align-items:center;
  gap:4px;
}

.sf-like-btn button{
  border:none;
  background:transparent;
  cursor:pointer;
  font-size:1rem;
  line-height:1;
  color:#e11d48;
}

/* corazon latiendo */
@keyframes heartBeat{
  0%{ transform:scale(1); }
  30%{ transform:scale(1.25); }
  60%{ transform:scale(.95); }
  100%{ transform:scale(1); }
}

.sf-heart-btn.is-pulsing{
  animation:heartBeat .45s ease-out;
  transform-origin:center;
}

/* FORMULARIO INFERIOR */
.sf-form{
  margin-top:12px;
  display:flex;
  flex-direction:column;
  gap:6px;
}

.sf-alias{
  width:100%;
  border-radius:999px;
  border:1px solid var(--line);
  padding:6px 10px;
  font-size:.85rem;
  background:rgba(255,255,255,.9);
}

.sf-input-row{
  display:flex;
  gap:8px;
  margin-top:2px;
}

.sf-input{
  flex:1;
  border-radius:999px;
  border:1px solid var(--line);
  padding:8px 12px;
  font-size:.9rem;
  background:#ffffff;
}

.sf-send-btn{
  border-radius:999px;
  border:1px solid var(--line);
  padding:8px 14px;
  background:#FFD6E7;
  font-family:"Fredoka";
  font-size:.9rem;
  cursor:pointer;
  box-shadow:var(--shadow-sm);
}

.sf-send-btn:hover{
  transform:translateY(-1px);
}

/* mensaje de cooldown / avisos */
.sf-footer-row{
  min-height:1.1em;
}

.sf-cooldown{
  font-size:.8rem;
  color:var(--ink-2);
}

/* ===== MODAL DE HILO ===== */

.thread-modal{
  position:fixed;
  inset:0;
  z-index:30;
  display:flex;
  align-items:center;
  justify-content:center;
}

.thread-modal[hidden]{
  display:none !important;
}

.thread-backdrop{
  position:absolute;
  inset:0;
  background:rgba(15,23,42,.55);
  backdrop-filter:blur(5px);
}

.thread-window{
  position:relative;
  z-index:1;
  width:min(520px, 92vw);
  max-height:80vh;
  border-radius:22px;
  border:1px solid var(--line);
  padding:16px 18px 12px;
  display:flex;
  flex-direction:column;
  gap:8px;
  background:linear-gradient(
    180deg,
    color-mix(in oklab,var(--card) 94%, var(--blue) 6%),
    color-mix(in oklab,var(--card) 94%, var(--pink) 6%)
  );
  box-shadow:var(--shadow-lg);
}

.thread-title{
  margin:0 0 4px;
}

.thread-close{
  position:absolute;
  top:8px;
  right:10px;
  border:none;
  background:transparent;
  font-size:20px;
  cursor:pointer;
}

/* scroll de mensajes del hilo */
.thread-scroll{
  flex:1;
  overflow:auto;
  padding-right:6px;
  margin-top:6px;
  display:grid;
  gap:8px;
}

/* Mensaje dentro del hilo */
.thread-msg{
  border-radius:12px;
  border:1px solid var(--line);
  padding:6px 8px;
  font-size:.9rem;
  background:#ffffff;
  position:relative;
}

.thread-msg-meta{
  font-size:.75rem;
  color:var(--muted);
  margin-bottom:2px;
}

.thread-msg::before{
  content:"";
  position:absolute;
  left:-6px;
  top:10px;
  width:7px;
  height:7px;
  border-radius:999px;
  background:var(--ring);
}

/* formulario de respuesta */
.thread-reply-form{
  margin-top:6px;
  display:flex;
  gap:6px;
}

.thread-reply-input{
  flex:1;
  border-radius:999px;
  border:1px solid var(--line);
  padding:6px 10px;
  font-size:.85rem;
  background:#ffffff;
}

.thread-reply-btn{
  border-radius:999px;
  border:1px solid var(--line);
  padding:6px 12px;
  background:#CFEAFF;
  font-family:"Fredoka";
  font-size:.85rem;
  cursor:pointer;
}

/* MODO OSCURO */
body[data-theme="dark"] .support-forum{
  background:color-mix(in oklab,var(--ink-2) 35%, var(--card) 65%);
}

body[data-theme="dark"] .sf-board{
  background:linear-gradient(
    180deg,
    color-mix(in oklab,var(--ink-2) 20%, var(--card) 80%),
    color-mix(in oklab,var(--ink-2) 15%, var(--card) 85%)
  );
}

body[data-theme="dark"] .sf-board-inner{
  background:color-mix(in oklab,var(--card) 90%, #020617 10%);
}

body[data-theme="dark"] .sf-thread-card{
  background:linear-gradient(
    180deg,
    color-mix(in oklab,var(--card) 92%, #020617 8%),
    color-mix(in oklab,var(--card) 90%, #020617 10%)
  );
}

body[data-theme="dark"] .thread-window{
  background:linear-gradient(
    180deg,
    color-mix(in oklab,var(--card) 92%, #020617 8%),
    color-mix(in oklab,var(--card) 90%, #020617 10%)
  );
}

/* ===== Ajuste: altura fija del foro y scroll interno ===== */

.support-forum{
  max-height: 580px;        /* altura fija del bloque del foro */
  overflow: hidden;         /* evita que crezca hacia afuera */
  display: flex;
  flex-direction: column;
}

/* El tablero debe ocupar el espacio disponible y scroll interno */
.sf-board{
  flex: 1;                   /* usa el espacio vertical sobrante */
  overflow: hidden;          /* no crecer fuera */
  display: flex;
  flex-direction: column;
}

.sf-board-inner{
  flex: 1;
  overflow-y: auto;          /* ahora el scroll es interno */
  min-height: 0;             /* IMPORTANT√çSIMO para que funcione el flex + scroll */
}

/* Para que la tira superior no desaparezca */
.sf-thread-strip{
  flex-shrink: 0;
}

/* Scroll bonito */
.sf-board-inner::-webkit-scrollbar{
  width: 8px;
}
.sf-board-inner::-webkit-scrollbar-thumb{
  background: rgba(120,120,120,.25);
  border-radius: 999px;
}

/* =====================================
   MODAL DE AUTENTICACI√ìN (cuentas)
===================================== */

.auth-modal{
  position:fixed;
  inset:0;
  z-index:40;
  display:flex;
  align-items:center;
  justify-content:center;
  font-family:"Nunito", system-ui;
}

.auth-modal[hidden]{
  display:none !important;
}

.auth-backdrop{
  position:absolute;
  inset:0;
  background:rgba(15,23,42,.55);
  backdrop-filter:blur(6px);
}

/* Ventana */

.auth-window{
  position:relative;
  z-index:1;
  width:min(460px, 94vw);
  max-height:82vh;
  border-radius:22px;
  border:1px solid var(--line);
  background:linear-gradient(
    180deg,
    color-mix(in oklab,var(--card) 90%, var(--blue) 10%),
    color-mix(in oklab,var(--card) 90%, var(--pink) 10%)
  );
  box-shadow:var(--shadow-lg);
  padding:16px 18px 12px;
  display:flex;
  flex-direction:column;
  gap:8px;
}

/* ==========================
   Notificaci√≥n flotante (toast)
========================== */

.kiva-toast{
  position:fixed;
  top:12px;
  left:50%;
  transform:translate(-50%, -20px);
  padding:8px 16px;
  border-radius:999px;
  font-size:.85rem;
  font-family:"Nunito", system-ui;
  background:#22c55e;        /* verde suave */
  color:#052e16;
  box-shadow:var(--shadow-md);
  opacity:0;
  pointer-events:none;
  z-index:50;
  transition:
    opacity .22s ease-out,
    transform .22s ease-out;
}

.kiva-toast.is-visible{
  opacity:1;
  transform:translate(-50%, 0);
}

body[data-theme="dark"] .kiva-toast{
  background:#16a34a;
  color:#ecfdf5;
}


.auth-close{
  position:absolute;
  top:8px;
  right:10px;
  border:none;
  background:transparent;
  font-size:20px;
  cursor:pointer;
}

/* Tabs */

.auth-tabs{
  display:inline-flex;
  border-radius:999px;
  padding:2px;
  background:color-mix(in oklab,#ffffff 70%, var(--lilac) 30%);
  margin-bottom:8px;
}

.auth-tab{
  border:none;
  background:transparent;
  padding:6px 14px;
  border-radius:999px;
  font-family:"Fredoka";
  font-size:.9rem;
  cursor:pointer;
  color:var(--ink-2);
}

.auth-tab.is-active{
  background:#fff;
  box-shadow:var(--shadow-sm);
}

/* Formularios */

.auth-form{
  display:flex;
  flex-direction:column;
  gap:8px;
  overflow:auto;
  padding-right:4px;
}

.auth-form.is-hidden{
  display:none;
}

.auth-title{
  margin:0 0 4px;
}

.auth-field{
  display:flex;
  flex-direction:column;
  gap:2px;
  font-size:.85rem;
}

.auth-field span{
  font-weight:700;
}

.auth-field input{
  border-radius:999px;
  border:1px solid var(--line);
  padding:7px 11px;
  font-size:.9rem;
  background:#fff;
}

.auth-main-btn{
  margin-top:6px;
  border-radius:999px;
  border:1px solid var(--line);
  padding:8px 14px;
  background:linear-gradient(90deg,#FFD6E7,#CFEAFF);
  font-family:"Fredoka";
  font-size:.95rem;
  cursor:pointer;
  box-shadow:var(--shadow-sm);
}

.auth-main-btn:hover{
  transform:translateY(-1px);
}

/* Grid nombres */

.auth-grid-two{
  display:grid;
  gap:8px;
  grid-template-columns:repeat(auto-fit,minmax(140px,1fr));
}

/* Mensajes */

.auth-error{
  min-height:1.2em;
  color:#b91c1c;
}

.auth-footer{
  display:flex;
  justify-content:space-between;
  align-items:center;
  margin-top:4px;
}

.auth-logout-btn{
  border-radius:999px;
  border:1px solid var(--line);
  padding:4px 10px;
  background:#fff;
  cursor:pointer;
  font-size:.8rem;
}

/* Modo oscuro */

body[data-theme="dark"] .auth-window{
  background:linear-gradient(
    180deg,
    color-mix(in oklab,var(--card) 90%, #020617 10%),
    color-mix(in oklab,var(--card) 85%, #020617 15%)
  );
}

.auth-pass-wrap{
  display:flex;
  align-items:center;
  gap:6px;
}

.auth-pass-wrap input{
  flex:1;
}

.auth-toggle-pass{
  border:none;
  background:transparent;
  cursor:pointer;
  font-size:1rem;
  padding:4px;
  line-height:1;
}

.auth-toggle-pass:hover{
  transform:scale(1.05);
}

.auth-pass-wrap{
  display:flex;
  align-items:center;
  gap:6px;
}

.auth-pass-wrap input{
  flex:1;
}

.auth-toggle-pass{
  cursor:pointer;
  font-size:1rem;
  padding:4px;
  line-height:1;
  user-select:none;
}

.auth-toggle-pass:hover{
  transform:scale(1.05);
}

.auth-verify-block{
  margin-top:12px;
  padding-top:10px;
  border-top:1px dashed var(--line);
}

.auth-verify-row{
  display:flex;
  gap:8px;
  margin-top:6px;
}

.auth-verify-row input{
  flex:1;
}

.auth-main-btn--secondary{
  background:var(--card);
  color:var(--ink);
  border:1px solid var(--ring);
}

/* ===== Ajustes de legibilidad SOLO en modo oscuro ===== */

/* 1. Portada: subt√≠tulo "Cuidarte es importante..." */
body[data-theme="dark"] .hero .sub{
  color:#e5e7eb; /* gris clarito, se ve bien sobre el fondo oscuro */
}

/* 2. Sem√°foro: tarjetas del lado izquierdo ("Abrazo cari√±oso", etc.) */
body[data-theme="dark"] .traffic-card .text{
  color:#e5e7eb;
}

/* 3. Secci√≥n "C√≥mo denunciar un delito": todo el texto m√°s claro */
body[data-theme="dark"] #denuncia{
  color:#e5e7eb;
}

/* Textos secundarios dentro de "C√≥mo denunciar" (p√°rrafos m√°s suaves) */
body[data-theme="dark"] #denuncia .small,
body[data-theme="dark"] #denuncia .muted{
  color:#cbd5f5; /* un gris azulado m√°s clarito */
}

/* ===== Botones de la secci√≥n "C√≥mo denunciar" ‚Äî legibles en modo oscuro ===== */

body[data-theme="dark"] #denuncia button,
body[data-theme="dark"] #denuncia .step-btn,
body[data-theme="dark"] #denuncia .person-btn,
body[data-theme="dark"] #denuncia .item-btn,
body[data-theme="dark"] #denuncia .emotion-btn {
  color: #e7e9f0 !important; /* texto clarito */
}

/* Para botones con fondo muy claro, asegurar que sigan legibles */
body[data-theme="dark"] #denuncia button span,
body[data-theme="dark"] #denuncia .step-btn span,
body[data-theme="dark"] #denuncia .person-btn span,
body[data-theme="dark"] #denuncia .item-btn span,
body[data-theme="dark"] #denuncia .emotion-btn span {
  color: #e7e9f0 !important;
}

/* Los bullet-points (‚ö´) que tambi√©n son botones */
body[data-theme="dark"] #denuncia .bullet,
body[data-theme="dark"] #denuncia .bullet span {
  color: #e7e9f0 !important;
}

/* ===== Bot√≥n activo (seleccionado) en modo oscuro ===== */

body[data-theme="dark"] #denuncia .active,
body[data-theme="dark"] #denuncia button.active,
body[data-theme="dark"] #denuncia .step-btn.active,
body[data-theme="dark"] #denuncia .person-btn.active,
body[data-theme="dark"] #denuncia .item-btn.active,
body[data-theme="dark"] #denuncia .emotion-btn.active {
  background-color: #334155 !important; /* gris azuladito elegante */
  color: #f1f5f9 !important;            /* texto clarito */
  border-color: #475569 !important;     /* borde suave oscuro */
}

/* Si dentro hay spans, que tambi√©n se vean claritos */
body[data-theme="dark"] #denuncia .active span,
body[data-theme="dark"] #denuncia button.active span {
  color: #f1f5f9 !important;
}

/* ===== MODO OSCURO: botones activos en secci√≥n "C√≥mo denunciar" ===== */

/* Tabs de pasos (Paso 1, Paso 2, etc.) */
body[data-theme="dark"] #denuncia .denuncia-step-chip.is-active{
  background:#1f2937 !important;   /* gris azulado oscuro */
  border-color:#4b5563 !important;
  color:#f9fafb !important;        /* texto clarito */
}

/* Botones de roles (Soy ni√±a/ni√±o, Soy persona adulta, etc.) */
body[data-theme="dark"] #denuncia .role-toggle.is-active{
  background:#1f2937 !important;
  border-color:#4b5563 !important;
  color:#f9fafb !important;
}

/* Checklist de qu√© llevar (los ‚ö´ que se vuelven verdes) */
body[data-theme="dark"] #denuncia .check-pill.is-checked{
  background:#111827 !important;
  border-color:#22c55e !important;
  color:#e5e7eb !important;
}
body[data-theme="dark"] #denuncia .check-pill.is-checked .check-mark{
  color:#bbf7d0 !important;
}

/* Chips de pruebas (Declaraciones, Pruebas digitales, etc.) */
body[data-theme="dark"] #denuncia .evidence-chip.is-active{
  background:#1f2937 !important;
  border-color:#4b5563 !important;
  color:#f9fafb !important;
}

/* Botones de emociones (Tengo miedo, Estoy enojada/o, etc.) */
body[data-theme="dark"] #denuncia .emotion-btn.is-active{
  background:#1f2937 !important;
  border-color:#4b5563 !important;
  color:#f9fafb !important;
}

/* ===== CTA del foro: centrado y llamativo ===== */
/* ===== Bloque L√≠neas de apoyo + Foro (dos columnas) ===== */

.support-hero{
  margin-top: 26px;
}

.support-layout{
  display: grid;
  grid-template-columns: minmax(0, 1.1fr) minmax(0, 1fr);
  gap: 20px;
  align-items: stretch;
}

/* Tarjeta izquierda: texto + botones */
.support-left{
  background: var(--card);
  border-radius: 20px;
  border: 1px solid var(--line);
  padding: 18px 20px;
  box-shadow: var(--shadow-md);
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.support-title{
  margin: 0;
  font-family: "Fredoka", system-ui;
  font-size: 1.2rem;
}

.support-text{
  margin: 0;
  font-size: .95rem;
  color: var(--muted);
}

.support-buttons{
  margin-top: 6px;
  display: flex;
  flex-direction: column;
  gap: 10px;
  max-width: 260px;
}

/* pill que ya usas, solo la dejamos igual */
.home-pill{
  border-radius: 16px;
  border: 1px solid var(--line);
  padding: 9px 16px;
  background: #FFD9C8;
  font-family: "Fredoka";
  font-weight: 700;
  cursor: pointer;
  box-shadow: var(--shadow-sm);
  text-align: left;
}

.home-pill.alt{
  background: #FFD6E7;
}

.support-forum-btn{
  border-radius: 16px;
  background: #CFEAFF;
  font-size: .95rem;
  text-align: center;
}

/* Tarjeta derecha: imagen + caption */
.support-right{
  background: var(--card);
  border-radius: 20px;
  border: 1px solid var(--line);
  padding: 12px 12px 14px;
  box-shadow: var(--shadow-md);
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.support-image-shell{
  border-radius: 16px;
  overflow: hidden;
}

.support-image-shell img{
  display: block;
  width: 100%;
  height: 200px;
  object-fit: cover;
}

.support-caption h3{
  margin: 0 0 4px;
  font-family: "Fredoka", system-ui;
  font-size: 1rem;
}

.support-caption p{
  margin: 0;
  font-size: .9rem;
  color: var(--muted);
}

/* Animaci√≥n suave al aparecer */
.support-left,
.support-right{
  animation: supportFade .45s ease-out;
}

@keyframes supportFade{
  0%{ opacity:0; transform:translateY(8px); }
  100%{ opacity:1; transform:translateY(0); }
}

/* Responsive: en m√≥vil una columna */
@media (max-width: 880px){
  .support-layout{
    grid-template-columns: 1fr;
  }

  .support-buttons{
    max-width: none;
    flex-direction: row;
    flex-wrap: wrap;
  }
}

/* ===== INICIO: layout combinado botones + imagen ===== */

.inicio-layout{
  /* ya es grid 2 columnas por .hero.two-col, solo ajustamos alturas */
  align-items: stretch;
}

/* Columna izquierda */
.inicio-left{
  display:flex;
  flex-direction:column;
  gap:14px;
}

/* Bloque superior (KIVA + Aprende / Explora) */
.inicio-main-copy{
  margin-bottom:4px;
}

.inicio-title-block{
  margin-bottom:8px;
}

/* Bloques internos (L√≠neas de apoyo / Foro) */
.inicio-block{
  background: var(--card);
  border-radius: 18px;
  border: 1px solid var(--line);
  padding: 14px 16px;
  box-shadow: var(--shadow-md);
  display:flex;
  flex-direction:column;
  gap:8px;
}

.inicio-block-title{
  margin:0;
  font-family:"Fredoka", system-ui;
  font-size:1.05rem;
}

.inicio-block-text{
  margin:2;
  font-size:.9rem;
  color:var(--muted);
}

.support-buttons{
  display:flex;
  flex-wrap:wrap;
  gap:10px;
}

/* reutilizamos home-pill pero nos aseguramos que no se deforme */
.home-pill{
  border-radius:16px;
  border:1px solid var(--line);
  padding:8px 14px;
  background:#FFD9C8;
  font-family:"Fredoka", system-ui;
  font-weight:700;
  font-size:.9rem;
  cursor:pointer;
  box-shadow:var(--shadow-sm);
}

.home-pill.alt{
  background:#FFD6E7;
}

/* Bot√≥n del foro llamativo + animaci√≥n */
.inicio-forum-btn{
  align-self:flex-start;
  border-radius:18px;
  background:#CFEAFF;
  font-size:.95rem;
  padding-inline:20px;
  animation: foroPulse 2.4s ease-in-out infinite;
}

.inicio-forum-btn:hover{
  transform:translateY(-1px) scale(1.02);
}

/* Columna derecha: imagen + texto */
.inicio-right{
  background:var(--card);
  border-radius:22px;
  border:1px solid var(--line);
  padding:14px 14px 16px;
  box-shadow:var(--shadow-lg);
  display:flex;
  flex-direction:column;
  gap:10px;
}

.inicio-image-shell{
  border-radius:18px;
  overflow:hidden;
  flex-grow: 1;           /* permite que la imagen crezca y llene el espacio */
  display: flex;          /* deja que la imagen se estire correctamente */
  min-height: 280px;      /* ajusta la altura base, puedes subirlo a 320 o 360 */
}

.inicio-image-shell img{
  width:100%;
  height:100%;           /* ocupa el 100% del contenedor */
  object-fit:cover;      /* no se deforma */
  display:block;
}

.inicio-caption-title{
  margin:0 0 4px;
  font-family:"Fredoka", system-ui;
  font-size:1.4rem;
}

.inicio-caption-text{
  margin:0;
  font-size:.95rem;
}

/* animaci√≥n suave bot√≥n foro */
@keyframes foroPulse{
  0%,100%{
    box-shadow:0 0 0 0 rgba(148,163,184,0.0);
  }
  50%{
    box-shadow:0 0 0 10px rgba(148,163,184,0.25);
  }
}

/* Responsive: en pantallas peque√±as que todo respire bonito */
@media (max-width: 880px){
  .inicio-layout{
    gap:16px;
  }

  .inicio-right{
    order:-1; /* imagen arriba en m√≥vil */
  }

  .support-buttons{
    width:100%;
  }
}

/* ===== INICIO: layout combinado botones + imagen ===== */

/* que este h√©roe sea 2 columnas iguales */
.hero.two-col.inicio-layout{
  grid-template-columns:1fr 1fr;
  gap:28px;
  align-items:stretch;
}

.inicio-left{
  display:flex;
  flex-direction:column;
  gap:14px;
}

.inicio-main-copy{
  margin-bottom:4px;
}

/* Bloques internos */
.inicio-block{
  background: var(--card);
  border-radius: 18px;
  border: 1px solid var(--line);
  padding: 14px 16px;
  box-shadow: var(--shadow-md);
  display:flex;
  flex-direction:column;
  gap:8px;
}

/* Bloque espec√≠fico del foro: centrado */
.inicio-block--foro{
  align-items:stretch;
  text-align:stretch;
}

.inicio-forum-btn{
  border-radius:18px;
  background:#CFEAFF;
  font-size:.95rem;
  padding-inline:20px;
  align-self:stretch;          /* centrado dentro del bloque */
  animation: foroPulse 2.4s ease-in-out infinite;
}

/* Columna derecha: tarjeta */
.inicio-right{
  background:var(--card);
  border-radius:22px;
  border:1px solid var(--line);
  padding:14px 14px 16px;
  box-shadow:var(--shadow-lg);
  display:flex;
  flex-direction:column;
  gap:10px;
}

.inicio-caption{
  flex-grow: 1;
  display: flex;
  flex-direction: column;
  justify-content: flex-start; /* o center si lo quieres centrado verticalmente */
}
.inicio-caption-text{
  max-width: 100%;
  line-height: 1.55;
  font-size: 1.05rem;
}














/* ===== Sem√°foro Challenge (Estilo Juego) ===== */
.semaforo-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 10px;
}

.score-board {
  font-family: "Fredoka", system-ui;
  font-weight: 700;
  background: var(--ink);
  color: #fff;
  padding: 4px 12px;
  border-radius: 99px;
}

.sem-game-area {
  background: var(--bg-alt); /* Fondo suave */
  border: 2px solid var(--line);
  border-radius: 18px;
  padding: 20px;
  text-align: center;
  position: relative;
  overflow: hidden;
  min-height: 280px;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
}

/* Tarjeta de situaci√≥n */
.sem-card {
  background: #fff;
  border-radius: 16px;
  padding: 20px;
  box-shadow: var(--shadow-md);
  transform: scale(1);
  transition: transform 0.2s cubic-bezier(0.175, 0.885, 0.32, 1.275);
  margin-bottom: 20px;
  border: 1px solid var(--line);
}

.sem-card.pop {
  transform: scale(1.05);
}

.sem-emoji { font-size: 3rem; display: block; margin-bottom: 8px; }
.sem-text { font-weight: 800; font-size: 1.1rem; margin: 0; color: var(--ink); }

/* Controles */
.sem-controls {
  display: grid;
  grid-template-columns: 1fr 1fr 1fr;
  gap: 8px;
}

.sem-btn {
  border: none;
  border-radius: 12px;
  padding: 12px 4px;
  font-family: "Fredoka", sans-serif;
  font-weight: 700;
  cursor: pointer;
  color: #fff;
  transition: transform 0.1s, filter 0.1s;
  display: flex;
  flex-direction: column;
  align-items: center;
  font-size: 0.9rem;
  box-shadow: 0 4px 0 rgba(0,0,0,0.2); /* Efecto 3D */
}

.sem-btn:active {
  transform: translateY(4px);
  box-shadow: none;
}

.sem-btn.green { background-color: #2ecc71; }
.sem-btn.yellow { background-color: #f1c40f; color: #333; }
.sem-btn.red { background-color: #e74c3c; }

/* Feedback (Overlay) */
.sem-feedback {
  position: absolute;
  inset: 0;
  pointer-events: none;
  opacity: 0;
  transition: opacity 0.3s;
  display: grid;
  place-items: center;
  font-size: 4rem;
  font-weight: 900;
  z-index: 10;
}

.sem-feedback.correct { background: rgba(46, 204, 113, 0.8); color: #fff; opacity: 1; }
.sem-feedback.wrong { background: rgba(231, 76, 60, 0.8); color: #fff; opacity: 1; }

/* Modo oscuro */
body[data-theme="dark"] .sem-game-area {
  background: rgba(255,255,255,0.05);
}
body[data-theme="dark"] .sem-card {
  background: var(--card);
  color: var(--ink);
}

/* ===== JUEGO 5: Simulador de Chat ===== */
.chat-interface {
  background: #f0f2f5;
  border: 1px solid var(--line);
  border-radius: 16px;
  overflow: hidden;
  max-width: 400px;
  margin: 0 auto;
  display: flex;
  flex-direction: column;
  height: 350px;
}

.chat-screen {
  flex: 1;
  padding: 14px;
  overflow-y: auto;
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.msg {
  max-width: 80%;
  padding: 8px 12px;
  border-radius: 12px;
  font-size: 0.9rem;
  line-height: 1.3;
  animation: popIn 0.3s ease;
}

@keyframes popIn { from{transform:scale(0); opacity:0;} to{transform:scale(1); opacity:1;} }

.msg.receive {
  background: #fff;
  align-self: flex-start;
  border-bottom-left-radius: 2px;
  box-shadow: 0 1px 2px rgba(0,0,0,0.1);
}

.msg.sent {
  background: #dcf8c6;
  align-self: flex-end;
  border-bottom-right-radius: 2px;
  box-shadow: 0 1px 2px rgba(0,0,0,0.1);
}

.chat-options {
  padding: 10px;
  background: #fff;
  border-top: 1px solid var(--line);
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.btn-opt {
  border: 1px solid var(--line);
  background: #f9f9f9;
  padding: 10px;
  border-radius: 10px;
  cursor: pointer;
  font-weight: 700;
  font-size: 0.85rem;
  text-align: left;
  transition: background 0.2s;
}

.btn-opt:hover { background: #eef; }

.chat-feedback {
  text-align: center;
  font-weight: 800;
  margin-top: 8px;
  min-height: 1.2em;
  color: var(--primary);
}

/* ===== JUEGO 6: Burbuja de Calma ===== */
.breathing-container {
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 20px;
  background: linear-gradient(180deg, #e0f7fa 0%, #ffffff 100%);
  border-radius: 18px;
  min-height: 250px;
}

.breath-circle {
  width: 120px;
  height: 120px;
  background: linear-gradient(135deg, #a7c5eb, #c4dbf6);
  border-radius: 50%;
  display: grid;
  place-items: center;
  color: #fff;
  font-weight: 800;
  font-family: "Fredoka", sans-serif;
  font-size: 1.1rem;
  cursor: pointer;
  box-shadow: 0 0 20px rgba(66, 165, 245, 0.4);
  transition: transform 4s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
}

/* Animaci√≥n de respiraci√≥n */
.breath-circle.inhale {
  transform: scale(1.8);
  background: linear-gradient(135deg, #42a5f5, #90caf9);
}

.breath-circle.hold {
  transform: scale(1.8); /* Se queda grande */
}

.breath-circle.exhale {
  transform: scale(1);
  background: linear-gradient(135deg, #a7c5eb, #c4dbf6);
}

/* Ajustes Modo Oscuro */
body[data-theme="dark"] .chat-interface { background: #111b21; border-color: #333; }
body[data-theme="dark"] .msg.receive { background: #1f2c34; color: #fff; }
body[data-theme="dark"] .msg.sent { background: #005c4b; color: #fff; }
body[data-theme="dark"] .chat-options { background: #1f2c34; border-color: #333; }
body[data-theme="dark"] .btn-opt { background: #2a3942; color: #fff; border-color: #333; }
body[data-theme="dark"] .breathing-container { background: #0f172a; }

/* ===== Estilos para Drag & Drop (Juegos 5 y 10) ===== */
.drag-container {
  display: flex;
  flex-direction: column;
  gap: 16px;
  margin-top: 10px;
}

.draggables-pool {
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
  min-height: 60px;
  padding: 10px;
  background: var(--paper);
  border: 1px dashed var(--line);
  border-radius: 14px;
  justify-content: center;
}

.drag-item {
  padding: 8px 14px;
  background: #fff;
  border: 1px solid var(--line);
  border-radius: 99px;
  font-weight: 700;
  cursor: grab;
  user-select: none;
  touch-action: none; /* Importante para arrastrar en m√≥vil */
  box-shadow: var(--shadow-sm);
  transition: transform 0.1s;
  display: inline-flex;
  gap: 6px;
}
.drag-item:active { cursor: grabbing; transform: scale(1.05); }
.drag-item.correct { background: #dcfce7; border-color: #22c55e; color: #15803d; }
.drag-item.wrong { background: #fee2e2; border-color: #ef4444; animation: shake 0.3s; }

.drop-zones {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 12px;
}

.drop-zone {
  border: 2px dashed var(--line);
  border-radius: 16px;
  padding: 20px 10px;
  text-align: center;
  background: rgba(0,0,0,0.02);
  transition: background 0.3s, border-color 0.3s;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 8px;
}

.drop-zone.active { background: #f0f9ff; border-color: var(--blue); }
.drop-zone.zone-ok { background: linear-gradient(180deg, #f0fff4, #ffffff); }
.drop-zone.zone-warn { background: linear-gradient(180deg, #fff4e5, #ffffff); }
.drop-zone.zone-bad { background: linear-gradient(180deg, #fff1f2, #ffffff); }

.zone-icon { font-size: 1.8rem; display: block; }
.zone-label { font-weight: 800; font-size: 0.9rem; }
.feedback-msg { min-height: 1.4em; margin-top: 10px; font-weight: 700; text-align: center; color: var(--ring); }

/* ===== Mapa Lugares Seguros (Juego 14) ===== */
.places-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
  gap: 12px;
  margin-top: 14px;
}

.place-card {
  aspect-ratio: 1/1;
  border: 1px solid var(--line);
  border-radius: 16px;
  background: var(--paper);
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: transform 0.1s, background 0.3s;
  padding: 8px;
  text-align: center;
}
.place-card:active { transform: scale(0.95); }

/* Estados del lugar */
.place-card[data-status="safe"] { background: #dcfce7; border-color: #86efac; }
.place-card[data-status="warn"] { background: #fef9c3; border-color: #fde047; }
.place-card[data-status="bad"] { background: #fee2e2; border-color: #fca5a5; }

.place-emoji { font-size: 2rem; margin-bottom: 4px; }
.place-name { font-size: 0.85rem; font-weight: 700; line-height: 1.1; }
.place-status { font-size: 0.8rem; margin-top: 4px; opacity: 0.8; }

/* ===== Rompe el Silencio (Juego 16) ===== */
.story-container {
  background: linear-gradient(180deg, #f8faff, #fff);
  border: 1px solid var(--line);
  border-radius: 18px;
  padding: 20px;
  text-align: center;
  min-height: 200px;
  display: flex;
  align-items: center;
  justify-content: center;
}
.story-char { font-size: 4rem; margin-bottom: 10px; display: block; animation: float 3s ease-in-out infinite; }
.story-text { font-size: 1.1rem; font-weight: 600; margin-bottom: 20px; }
.story-actions { display: flex; flex-direction: column; gap: 10px; width: 100%; max-width: 300px; }
.story-btn { background: #fff; border: 2px solid var(--blue); transition: all 0.2s; }
.story-btn:hover { background: var(--blue); transform: translateY(-2px); }

@keyframes float { 0%, 100% {transform: translateY(0);} 50% {transform: translateY(-6px);} }

/* Modo oscuro */
body[data-theme="dark"] .drag-item { background: var(--card); color: var(--ink); }
body[data-theme="dark"] .drop-zone { background: rgba(255,255,255,0.05); }
body[data-theme="dark"] .story-container { background: rgba(255,255,255,0.05); }
body[data-theme="dark"] .story-btn { background: var(--card); color: var(--ink); }

/* =========================================
   NUEVO: Sem√°foro del Cuerpo (Visual)
   ========================================= */

.body-traffic-container {
  display: flex;
  flex-direction: column;
  gap: 16px;
  max-width: 600px;
  margin: 0 auto;
}

.body-image-wrapper {
  position: relative;
  width: 100%;
  border-radius: 18px;
  overflow: hidden;
  box-shadow: var(--shadow-sm);
  border: 1px solid var(--line);
  /* background: #eef6ff;  <-- ELIMINA ESTA L√çNEA */
}

.body-bg {
  width: 100%;
  height: auto;
  display: block;
  /* pointer-events: none; Para que los clicks pasen si tocan la imagen y no el punto */
}

/* --- Los Puntos Interactivos --- */
.body-dot {
  position: absolute;
  width: 24px;   /* <-- CAMBIO AQU√ç: Antes era 32px */
  height: 24px;  /* <-- CAMBIO AQU√ç: Antes era 32px */
  border-radius: 50%;
  border: 2px solid #fff; /* <-- Borde un poco m√°s fino para el nuevo tama√±o */
  cursor: pointer;
  padding: 0;
  transform: translate(-50%, -50%) scale(1);
  transition: transform 0.2s cubic-bezier(0.175, 0.885, 0.32, 1.275), box-shadow 0.2s;
  box-shadow: 0 3px 6px rgba(0,0,0,0.25);
  z-index: 10;
}

/* Animaci√≥n de pulsaci√≥n para que sepan que se pueden tocar */
.body-dot::after {
  content: "";
  position: absolute;
  inset: -4px;
  border-radius: 50%;
  border: 2px solid currentColor;
  opacity: 0;
  animation: pulseDot 2s infinite;
}

@keyframes pulseDot {
  0% { transform: scale(1); opacity: 0.8; }
  100% { transform: scale(1.8); opacity: 0; }
}

/* Colores de los puntos */
.body-dot.green { background-color: #2ecc71; color: #2ecc71; }
.body-dot.yellow { background-color: #f1c40f; color: #f1c40f; }
.body-dot.red { background-color: #e74c3c; color: #e74c3c; }

/* Efecto al tocar/pasar mouse */
.body-dot:hover, .body-dot:focus {
  transform: translate(-50%, -50%) scale(1.3);
  z-index: 20;
  outline: none;
}
.body-dot.active {
  transform: translate(-50%, -50%) scale(1.4);
  border-color: var(--ink);
  box-shadow: 0 0 0 4px rgba(255,255,255,0.8);
}

/* --- Caja de Mensaje (Feedback) --- */
.body-feedback {
  background: var(--card);
  border: 2px solid var(--line);
  border-radius: 16px;
  padding: 16px 20px;
  text-align: center;
  font-weight: 800;
  font-size: 1.1rem;
  min-height: 80px;
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: var(--shadow-sm);
  transition: all 0.3s ease;
  color: var(--ink);
}

/* Estados del mensaje seg√∫n el color tocado */
.body-feedback.is-green {
  background: #dcfce7;
  border-color: #22c55e;
  color: #14532d;
}
.body-feedback.is-yellow {
  background: #fef9c3;
  border-color: #eab308;
  color: #713f12;
}
.body-feedback.is-red {
  background: #fee2e2;
  border-color: #ef4444;
  color: #7f1d1d;
  animation: shake 0.4s ease-in-out;
}

/* Ajustes Modo Oscuro */
body[data-theme="dark"] .body-image-wrapper {
  background: #1e293b;
  border-color: var(--line);
}
body[data-theme="dark"] .body-dot {
  border-color: #1f2937; /* Borde oscuro para que contraste con la imagen brillante */
}
body[data-theme="dark"] .body-feedback.is-green {
  background: rgba(34, 197, 94, 0.2);
  color: #86efac;
}
body[data-theme="dark"] .body-feedback.is-yellow {
  background: rgba(234, 179, 8, 0.2);
  color: #fde047;
}
body[data-theme="dark"] .body-feedback.is-red {
  background: rgba(239, 68, 68, 0.2);
  color: #fca5a5;
}

/* =========================================
   ===== ESTILOS C√çRCULO DE CONFIANZA =====
   ========================================= */

/* Contenedor Principal */
#circuloConfianza {
  background: #ffffff;
  border-radius: 24px;
  box-shadow: 0 10px 30px rgba(0,0,0,0.08);
  padding: 25px;
  overflow: hidden;
  border: 1px solid #eef2f6;
}

/* Cabecera del juego (Centrada) */
.game-header {
  display: flex;
  flex-direction: column; /* Apila icono sobre texto */
  align-items: center;    /* Centra horizontalmente */
  text-align: center;     /* Centra el texto */
  gap: 10px;
  margin-bottom: 25px;
  width: 100%;
}

.game-info {
  text-align: center;
}

.game-icon {
  font-size: 2.5rem;
  filter: drop-shadow(0 4px 6px rgba(0,0,0,0.1));
}

.trust-game-container {
  display: flex;
  flex-direction: column;
  gap: 20px;
}

/* --- TABLERO (Columnas) --- */
.trust-board {
  display: flex;
  gap: 12px;
  overflow-x: auto;
  padding-bottom: 15px; /* Espacio para scrollbar */
  scroll-snap-type: x mandatory;
  justify-content: center; /* Centrado en pantallas grandes */
  width: 100%;
}

/* Ajuste para m√≥viles: Alineaci√≥n al inicio para permitir scroll */
@media (max-width: 850px) {
  .trust-board {
    justify-content: flex-start;
    padding-left: 10px;
    padding-right: 10px;
  }
}

/* Scrollbar personalizada */
.trust-board::-webkit-scrollbar { height: 8px; }
.trust-board::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 10px; }
.trust-board::-webkit-scrollbar-track { background: #f1f5f9; }

.trust-col {
  flex: 1;
  min-width: 130px; /* Ancho m√≠nimo para que no se aplasten */
  background: #f8fafc;
  border-radius: 16px;
  overflow: hidden;
  border: 1px solid #e2e8f0;
  display: flex;
  flex-direction: column;
  transition: transform 0.2s, box-shadow 0.2s;
  scroll-snap-align: start;
}

.trust-col.active-drop {
  background: #eff6ff;
  box-shadow: 0 0 0 2px #3b82f6;
  transform: translateY(-2px);
}

/* Cabeceras de colores */
.trust-header {
  padding: 12px 5px;
  text-align: center;
  font-family: 'Fredoka', sans-serif;
  font-weight: 700;
  font-size: 0.95rem;
  display: flex;
  flex-direction: column;
  gap: 4px;
  color: #fff; /* Texto blanco para contraste */
  text-shadow: 0 1px 2px rgba(0,0,0,0.1);
}

.t-emoji { font-size: 1.5rem; display: block; margin-bottom: 2px; }

/* Colores espec√≠ficos */
.header-blue { background: linear-gradient(135deg, #60a5fa, #2563eb); }   /* Familia */
.header-green { background: linear-gradient(135deg, #4ade80, #16a34a); }  /* Amigos */
.header-yellow { background: linear-gradient(135deg, #facc15, #ca8a04); color: #422006; text-shadow: none; } /* Conocidos */
.header-orange { background: linear-gradient(135deg, #fb923c, #ea580c); } /* Ayudantes */
.header-red { background: linear-gradient(135deg, #f87171, #dc2626); }    /* Extra√±os */

/* Zona de soltar */
.trust-drop-zone {
  min-height: 180px;
  padding: 10px;
  display: flex;
  flex-direction: column;
  gap: 8px;
  align-items: center;
}

/* --- FICHAS (Draggables) --- */
.trust-item {
  background: #ffffff;
  width: 100%;
  padding: 10px 8px;
  border-radius: 12px;
  box-shadow: 0 3px 0 rgba(0,0,0,0.1); /* Efecto 3D sutil */
  border: 1px solid #cbd5e1;
  cursor: grab;
  font-size: 0.8rem;
  font-weight: 700;
  color: #334155;
  text-align: center;
  user-select: none;
  touch-action: none; /* Vital para m√≥viles */
  transition: transform 0.1s, background-color 0.3s;
}

.trust-item:active {
  cursor: grabbing;
  transform: scale(0.95);
  box-shadow: 0 1px 0 rgba(0,0,0,0.1);
}

.trust-item.correct {
  background: #dcfce7;
  border-color: #22c55e;
  color: #14532d;
  box-shadow: none;
}

.trust-item.wrong {
  background: #fee2e2;
  border-color: #ef4444;
  color: #7f1d1d;
  animation: shake 0.4s;
}

/* Pool de fichas */
.trust-pool-container {
  background: #f1f5f9;
  border-radius: 16px;
  padding: 15px;
  border: 2px dashed #cbd5e1;
}

.pool-label {
  font-weight: 800;
  color: #64748b;
  margin-bottom: 10px;
  text-align: center;
  font-size: 0.9rem;
}

.trust-pool {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  justify-content: center;
  min-height: 60px;
}

.trust-pool .trust-item {
  width: auto; /* En el pool son de ancho autom√°tico */
  min-width: 100px;
}

/* Footer y Feedback */
.trust-footer {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-top: 10px;
  flex-wrap: wrap;
  gap: 10px;
}

.trust-feedback {
  flex: 1;
  font-weight: 700;
  color: #7b1fa2;
  min-height: 20px;
  text-align: center; /* Centrar feedback */
}

.btn-reset-trust {
  background: #f8fafc;
  border: 2px solid #cbd5e1;
  color: #64748b;
  padding: 8px 16px;
  border-radius: 50px;
  cursor: pointer;
  font-family: 'Fredoka', sans-serif;
  font-weight: 700;
  transition: all 0.2s;
}

.btn-reset-trust:hover {
  background: #e2e8f0;
  color: #334155;
}

@keyframes shake {
  0%, 100% { transform: translateX(0); }
  25% { transform: translateX(-5px); }
  75% { transform: translateX(5px); }
}

/* Ajustes Modo Oscuro */
[data-theme="dark"] #circuloConfianza { background: #020617; border-color: #334155; }
[data-theme="dark"] .trust-col { background: #0f172a; border-color: #334155; }
[data-theme="dark"] .trust-item { background: #334155; color: #e2e8f0; border-color: #475569; }
[data-theme="dark"] .trust-pool-container { background: #0f172a; border-color: #334155; }
[data-theme="dark"] .btn-reset-trust { background: #0f172a; border-color: #475569; color: #cbd5e1; }
















/* =========================================
   NUEVO: Estilos Mapa de Lugares Seguros (SVG Est√°tico)
   ========================================= */

.map-container {
  width: 100%;
  overflow: hidden;
  border-radius: 18px;
  border: 2px solid var(--line);
  background-color: #e6f4ea;
  box-shadow: var(--shadow-sm);
  /* Evita que el mapa se seleccione al hacer doble clic r√°pido */
  user-select: none;
}

.places-map-svg {
  width: 100%;
  height: auto;
  display: block;
}

/* Interacci√≥n con los lugares (SOLO CURSOR) */
.map-place {
  cursor: pointer;
  /* SE ELIMINARON LAS TRANSICIONES Y TRANSFORMACIONES DE MOVIMIENTO */
}

/* Asegura que los textos dentro del SVG no interfieran con el clic */
.map-place text {
  pointer-events: none;
}

/* Feedback texto debajo del mapa */
.map-feedback {
  text-align: center;
  font-weight: 700;
  color: var(--muted);
  min-height: 1.2em;
}

/* ===== NUEVO: Mapa de Lugares Seguros (Estilo Kawaii) ===== */
.kawaii-map-container {
  position: relative;
  width: 100%;
  max-width: 1000px; /* Aumentado para el nuevo mapa m√°s grande */
  margin: 20px auto;
  border-radius: 24px;
  overflow: hidden;
  box-shadow: var(--shadow-lg);
  border: 3px solid var(--line);
  background: #aed581; /* Color de fondo del pasto */
}

.kawaii-map-svg {
  display: block;
  width: 100%;
  height: auto;
  pointer-events: none; /* El SVG es solo fondo, no interact√∫a */
}

/* √Åreas t√°ctiles invisibles */
.map-touch-area {
  position: absolute;
  /* background: rgba(255, 0, 0, 0.3); /* DESCOMENTAR PARA VER LAS √ÅREAS MIENTRAS PRUEBAS */
  background: transparent;
  cursor: pointer;
  z-index: 10;
  border-radius: 16px;
  transition: background 0.2s;
}
/* Efecto hover suave */
@media (hover: hover) {
  .map-touch-area:hover {
    background: rgba(255, 255, 255, 0.2);
    box-shadow: 0 0 0 4px rgba(255,255,255,0.4);
  }
}

/* Indicadores (Icono + Texto que aparece) */
.map-indicator {
  position: absolute;
  transform: translate(-50%, -50%) scale(0); /* Empieza invisible y peque√±o */
  display: flex;
  flex-direction: column;
  align-items: center;
  z-index: 20;
  pointer-events: none; /* No interfieren con los clicks */
  transition: transform 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.4); /* Animaci√≥n de rebote */
}

.map-indicator.show {
  transform: translate(-50%, -50%) scale(1); /* Se hace grande y visible */
}

.map-ind-icon {
  font-size: 3.5rem;
  line-height: 1;
  filter: drop-shadow(0 4px 6px rgba(0,0,0,0.2));
}

.map-ind-label {
  font-family: "Fredoka", sans-serif;
  font-weight: 700;
  font-size: 1rem;
  padding: 6px 12px;
  border-radius: 99px;
  color: #fff;
  margin-top: 4px;
  box-shadow: 0 4px 8px rgba(0,0,0,0.15);
  white-space: nowrap;
}

/* Colores de los estados */
.map-indicator.safe .map-ind-label { background: #22c55e; } /* Verde bonito */
.map-indicator.warn .map-ind-label { background: #eab308; color: #333; } /* Amarillo vibrante */
.map-indicator.bad .map-ind-label  { background: #ef4444; } /* Rojo intenso */

/* Modo oscuro ajustes */
body[data-theme="dark"] .kawaii-map-container {
  border-color: #334155;
  opacity: 0.9; /* Un poco menos brillante en modo noche */
}

/* ===== C√≠rculo de Confianza (Estilo Tablero Kawaii) ===== */
.trust-game-container {
  display: flex;
  flex-direction: column;
  gap: 16px;
}

/* Contenedor con scroll horizontal para que quepan las 5 columnas en m√≥vil */
.trust-board {
  display: flex;
  gap: 8px;
  overflow-x: auto;
  padding-bottom: 12px; /* Espacio para scrollbar */
  scroll-snap-type: x mandatory;
}

.trust-col {
  flex: 0 0 110px; /* Ancho fijo por columna */
  background: #fff;
  border: 1px solid var(--line);
  border-radius: 12px;
  overflow: hidden;
  display: flex;
  flex-direction: column;
  scroll-snap-align: center;
  min-height: 200px;
}

.trust-header {
  padding: 8px 4px;
  text-align: center;
  font-weight: 800;
  font-size: 0.85rem;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 4px;
  border-bottom: 1px solid rgba(0,0,0,0.05);
}

.t-emoji { font-size: 1.4rem; }

.trust-drop-zone {
  flex: 1;
  padding: 8px;
  background: rgba(0,0,0,0.02);
  display: flex;
  flex-direction: column;
  gap: 8px;
  align-items: center;
  transition: background 0.3s;
}

.trust-drop-zone.highlight {
  background: rgba(0,0,0,0.06);
}

/* Las fichas (Stickers) */
.trust-item {
  width: 90px;
  background: #fff;
  border: 1px solid var(--line);
  border-radius: 10px;
  padding: 6px;
  text-align: center;
  cursor: grab;
  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
  font-size: 0.8rem;
  font-weight: 700;
  user-select: none;
  touch-action: none;
  transition: transform 0.1s;
}

.trust-item:active {
  cursor: grabbing;
  transform: scale(1.05);
  z-index: 100;
}

.trust-item-icon {
  font-size: 1.8rem;
  display: block;
  margin-bottom: 2px;
}

/* Estados de acierto/error */
.trust-item.correct {
  border: 2px solid #4caf50;
  background: #e8f5e9;
  color: #1b5e20;
}

.trust-item.wrong {
  animation: shake 0.4s;
  border: 2px solid #ef5350;
  background: #ffebee;
}

/* √Årea de fichas iniciales */
.trust-pool-area {
  background: var(--paper);
  border: 1px dashed var(--line);
  border-radius: 14px;
  padding: 10px;
}

.trust-pool {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  justify-content: center;
  min-height: 60px;
}

.trust-feedback {
  text-align: center;
  font-weight: 800;
  min-height: 1.2em;
  color: var(--ring);
}

/* Modo oscuro */
body[data-theme="dark"] .trust-col { background: var(--card); border-color: var(--line); }
body[data-theme="dark"] .trust-item { background: var(--card); color: var(--ink); border-color: var(--line); }

.imagen-redondeada {
  border-radius: 20px;
  width: 700;
  height: 400;
}

/* =========================================
   ESTILOS KIVA ARCADE (JUEGOS NUEVOS)
   ========================================= */

/* Navegaci√≥n de pesta√±as */
.arcade-nav {
  display: flex;
  gap: 10px;
  overflow-x: auto;
  padding-bottom: 12px;
  margin-bottom: 20px;
  border-bottom: 2px dashed var(--line);
  scrollbar-width: none; /* Ocultar barra scroll */
}
.arcade-nav::-webkit-scrollbar { display: none; }

.arcade-tab {
  flex: 0 0 auto;
  padding: 8px 16px;
  border-radius: 20px;
  border: 1px solid var(--line);
  background: #fff;
  font-family: "Fredoka", sans-serif;
  font-size: 0.95rem;
  cursor: pointer;
  transition: all 0.2s;
  box-shadow: 0 3px 0 rgba(0,0,0,0.1);
}
.arcade-tab:active { transform: translateY(3px); box-shadow: none; }
.arcade-tab.active {
  background: var(--lilac);
  border-color: var(--ring);
  color: var(--ink);
  font-weight: 700;
}

/* Contenedores de juego */
.arcade-game { display: none; text-align: center; animation: fadeInGame 0.4s ease; }
.arcade-game.active { display: block; }
@keyframes fadeInGame { from{opacity:0; transform:translateY(10px)} to{opacity:1; transform:translateY(0)} }

/* 1. ESTILOS DIBUJO */
.palette { display: flex; justify-content: center; gap: 8px; margin-bottom: 10px; }
.swatch { width: 32px; height: 32px; border-radius: 50%; border: 2px solid #fff; box-shadow: 0 2px 4px rgba(0,0,0,0.2); cursor: pointer; transition: transform 0.2s; }
.swatch:active { transform: scale(1.2); }
.canvas-box {
  display: inline-block;
  border: 4px solid var(--ink);
  border-radius: 14px;
  background: #fff;
  overflow: hidden;
  touch-action: none; /* Crucial para m√≥viles */
  cursor: crosshair;
}

/* 2. ESTILOS PUZZLE */
.puzzle-grid {
  display: grid; grid-template-columns: repeat(3, 70px); gap: 4px;
  justify-content: center; margin: 10px auto;
  background: var(--line); padding: 4px; border-radius: 8px; width: max-content;
}
.puzzle-tile {
  width: 70px; height: 70px; background: #fff;
  display: flex; align-items: center; justify-content: center;
  font-family: "Fredoka"; font-size: 1.5rem; font-weight: 700;
  cursor: pointer; border-radius: 6px; user-select: none;
  box-shadow: 0 2px 0 rgba(0,0,0,0.1);
}
.puzzle-tile.empty { background: transparent; box-shadow: none; cursor: default; }

/* 3. ESTILOS PALABRAS */
.word-icon-display { font-size: 3.5rem; margin-bottom: 10px; animation: bounceIcon 2s infinite; }
@keyframes bounceIcon { 0%,100%{transform:translateY(0)} 50%{transform:translateY(-8px)} }
.slots-row { display: flex; justify-content: center; gap: 6px; margin-bottom: 15px; min-height: 45px; }
.slot { width: 40px; height: 45px; border-bottom: 3px solid var(--line); font-family: "Fredoka"; font-size: 1.5rem; display: grid; place-items: center; text-transform: uppercase; }
.letters-row { display: flex; justify-content: center; gap: 8px; flex-wrap: wrap; }
.letter-btn { width: 44px; height: 44px; background: var(--blue); border: 2px solid #fff; border-radius: 10px; font-weight: 700; font-size: 1.2rem; cursor: pointer; box-shadow: 0 4px 0 rgba(0,0,0,0.15); }
.letter-btn:active { transform: translateY(4px); box-shadow: none; }
.feedback-text { font-weight: 800; min-height: 1.5em; margin-top: 10px; color: var(--ring); }

/* 4. ESTILOS EMOCIONES */
.kawaii-face { font-size: 6rem; transition: transform 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275); display: inline-block; margin-bottom: 10px; }
.emo-btns { display: flex; flex-wrap: wrap; gap: 8px; justify-content: center; }

/* 5. ESTILOS COLORES */
.buckets-row { display: flex; justify-content: center; gap: 12px; margin-bottom: 15px; }
.bucket { padding: 8px 12px; border: none; border-radius: 12px; color: #fff; font-weight: 800; cursor: pointer; transition: transform 0.1s; }
.bucket:active { transform: scale(0.95); }
.bucket.red { background: #ef4444; box-shadow: 0 4px 0 #b91c1c; }
.bucket.blue { background: #3b82f6; box-shadow: 0 4px 0 #1d4ed8; }
.bucket.yellow { background: #eab308; box-shadow: 0 4px 0 #a16207; }
.mix-result { width: 100px; height: 100px; margin: 0 auto; background: #eee; border-radius: 50%; border: 4px solid var(--ink); display: grid; place-items: center; font-size: 2.5rem; transition: background 0.3s; }

/* 6. ESTILOS ADIVINANZAS */
.riddle-box { background: var(--paper); border: 2px dashed var(--line); padding: 15px; border-radius: 14px; margin-bottom: 15px; }
.riddle-opts-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
.riddle-btn { background: #fff; border: 2px solid var(--blue); padding: 10px; border-radius: 12px; font-weight: 700; cursor: pointer; transition: background 0.2s; }
.riddle-btn:hover { background: var(--blue); }

/* 7. ESTILOS GATO */
.ttt-grid { display: grid; grid-template-columns: repeat(3, 60px); gap: 6px; justify-content: center; margin: 10px auto; }
.ttt-box { width: 60px; height: 60px; background: #fff; border: 1px solid var(--line); border-radius: 8px; font-size: 2.2rem; display: flex; align-items: center; justify-content: center; cursor: pointer; user-select: none; }

/* 8. ESTILOS SOPA */
.sopa-grid { display: grid; grid-template-columns: repeat(5, 50px); gap: 4px; justify-content: center; margin: 10px auto; }
.sopa-cell { width: 50px; height: 50px; background: #fff; border: 1px solid var(--line); border-radius: 6px; display: flex; align-items: center; justify-content: center; font-weight: 700; cursor: pointer; }
.sopa-cell.found { background: #dcfce7; color: #15803d; border-color: #22c55e; animation: popIn 0.3s; }
@keyframes popIn { from{transform:scale(0.5)} to{transform:scale(1)} }

/* MODO OSCURO (Ajustes r√°pidos) */
body[data-theme="dark"] .arcade-tab { background: var(--card); color: var(--ink); }
body[data-theme="dark"] .arcade-tab.active { background: var(--ring); color: #fff; }
body[data-theme="dark"] .canvas-box { border-color: #444; }
body[data-theme="dark"] .puzzle-tile,
body[data-theme="dark"] .ttt-box,
body[data-theme="dark"] .sopa-cell { background: #1e293b; border-color: #334155; color: #fff; }

/* ESTILOS SOPA MEJORADOS */
.sopa-grid {
  display: grid;
  grid-template-columns: repeat(5, 50px);
  gap: 5px;
  justify-content: center;
  margin: 15px auto;
  user-select: none; /* Importante para que no parezca texto seleccionado */
}

.sopa-cell {
  width: 50px;
  height: 50px;
  background: #fff;
  border: 2px solid var(--line);
  border-radius: 8px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-family: "Fredoka", sans-serif;
  font-weight: 700;
  font-size: 1.4rem; /* Letra grande y legible */
  cursor: pointer;
  transition: all 0.2s;
  color: var(--ink);
}

/* Estado seleccionado */
.sopa-cell.found {
  background-color: #dcfce7 !important;
  border-color: #22c55e !important;
  color: #15803d !important;
  transform: scale(1.1);
  box-shadow: 0 4px 0 rgba(34, 197, 94, 0.2);
}

/* Modo oscuro */
body[data-theme="dark"] .sopa-cell {
  background-color: #1e293b;
  border-color: #334155;
  color: #fff;
}
/* Animaci√≥n de victoria */
.win-bounce {
  animation: winBounce 0.6s infinite alternate;
}
@keyframes winBounce {
  from { transform: translateY(0); }
  to { transform: translateY(-10px); }
}


/* Logo en el encabezado */
.brand {
  display: flex;
  align-items: center;
  gap: 0.75rem; /* separa logo y texto */
}

.brand-logo {
  height: 40px;     /* puedes subir o bajar el tama√±o */
  width: auto;
  display: block;
}


.whatsapp-link {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
}

.whatsapp-icon {
  width: 20px;
  height: 20px;
  display: block;
}

.section-top-nav {
  display: flex;
  justify-content: flex-end;
  margin-bottom: 1rem;
}

.section-top-nav .btn {
  font-size: 0.9rem;
}

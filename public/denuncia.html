<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>KIVA â€” CÃ³mo denunciar</title>
  <link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@600;700&family=Nunito:wght@400;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css" />
  <link rel="stylesheet" href="styles.mobile.css" media="only screen and (max-width: 600px)" />
  <link rel="icon" type="image/png" href="favicon-kiva.png">
</head>
<body data-bg="sobre">

<header class="site-header">
  <a class="brand" href="index.html" aria-label="Inicio">
    <img src="logo kiva sin fondo.png" alt="Logo de KIVA Voz y Apoyo" class="brand-logo">
    <div class="title-multi title-desktop">
      <b class="kiva">KIVA</b> <b class="guion">-</b>
      <b class="Kids">Kidâ€™s</b> <b class="Integrity">Integrity</b> <b class="coma">,</b> 
      <b class="voz">Voz</b> <b class="y">y</b> <b class="apoyo">Apoyo</b>
    </div>
    <div class="title-multi-mobile">
      <b class="kiva-word"><span class="k">K</span><span class="i">I</span><span class="v">V</span><span class="a">A</span></b>
      <b><span class="Kids">Kidâ€™s</span> <span class="Integrity">Integrity</span></b>
    </div>
  </a>
  <button class="hamburger" id="navOpen" aria-label="Abrir menÃº"><span></span><span></span><span></span></button>
</header>
<button id="themeToggle" class="mode-toggle" type="button">ğŸŒ™</button>

<nav class="sidenav" id="sidenav">
  <button class="sidenav-close" id="navClose">Ã—</button>
  <a class="snav-link" href="index.html">ğŸ  Inicio</a>
  <a class="snav-link" href="aprende.html">ğŸ“š Aprende & GalerÃ­a</a>
  <a class="snav-link" href="explora.html">ğŸ® Explora</a>
  <a class="snav-link" href="ayuda.html">ğŸ†˜ Ayuda</a>
  <a class="snav-link" href="denuncia.html">âš–ï¸ CÃ³mo denunciar</a>
  <a class="snav-link" href="reflexiones.html">ğŸ’­ Reflexiones</a>
  <a class="snav-link" href="sobre.html">â„¹ï¸ Sobre</a>
</nav>
<div id="navBackdrop" class="nav-backdrop" hidden></div>

<section class="section" data-bg="sobre">
  <h2 class="h-doodles">CÃ³mo denunciar</h2>
  <div class="section-top-nav">
    <a href="index.html" class="btn alt cta">Volver al inicio</a>
  </div>

  <p class="small">
    Pasos interactivos para saber quÃ© hacer, quiÃ©n puede denunciar y quÃ© llevar.
  </p>

  <div class="denuncia-steps-nav">
    <div class="denuncia-steps-chips" id="stepsChips">
      <button class="denuncia-step-chip is-active" data-target="step1">Paso 1 Â· Seguridad</button>
      <button class="denuncia-step-chip" data-target="step2">Paso 2 Â· QuiÃ©n denuncia</button>
      <button class="denuncia-step-chip" data-target="step3">Paso 3 Â· QuÃ© llevar</button>
      <button class="denuncia-step-chip" data-target="step4">Paso 4 Â· Proceso</button>
      <button class="denuncia-step-chip" data-target="step5">Paso 5 Â· Pruebas</button>
      <button class="denuncia-step-chip" data-target="step6">Paso 6 Â· DespuÃ©s</button>
      <button class="denuncia-step-chip" data-target="step7">Paso 7 Â· Formas</button>
      <button class="denuncia-step-chip" data-target="step8">Paso 8 Â· Dudas</button>
    </div>
    <div class="denuncia-progress">
      <span id="progressLabel" class="denuncia-progress-label">Paso 1 de 8</span>
      <div class="denuncia-progress-bar">
        <div class="denuncia-progress-fill" id="progressFill" style="width:12.5%"></div>
      </div>
    </div>
  </div>

  <div class="denuncia-step" id="step1">
    <h3>1. Primero: busca seguridad y apoyo</h3>
    <p>Antes de denunciar, busca estar a salvo. Toca una tarjeta para saber a quiÃ©n contarle:</p>
    
    <div class="trust-grid" id="trustGrid">
      <button class="trust-card" data-msg="âœ… Â¡Excelente opciÃ³n! Los maestros pueden activar protocolos de seguridad.">
        <span class="trust-emoji">ğŸ‘©â€ğŸ«</span>
        <span class="trust-label">Maestra / Maestro</span>
      </button>
      <button class="trust-card" data-msg="âœ… Â¡SÃ­! Tu familia debe ser tu primer escudo de protecciÃ³n.">
        <span class="trust-emoji">ğŸ‘¨â€ğŸ‘©â€ğŸ‘§</span>
        <span class="trust-label">MamÃ¡, papÃ¡ o cuidador</span>
      </button>
      <button class="trust-card" data-msg="âœ… Â¡Muy bien! Son profesionales que saben cÃ³mo escuchar y ayudar.">
        <span class="trust-emoji">ğŸ‘©â€âš•ï¸</span>
        <span class="trust-label">PsicÃ³loga escolar</span>
      </button>
      <button class="trust-card warning" data-msg="âš ï¸ Â¡Cuidado! No confÃ­es en desconocidos de internet, pueden mentir.">
        <span class="trust-emoji">â“</span>
        <span class="trust-label">Desconocido en internet</span>
      </button>
      <button class="trust-card warning" data-msg="âš ï¸ Â¡Peligro! Nunca te vayas con adultos que no conoces bien.">
        <span class="trust-emoji">ğŸš—</span>
        <span class="trust-label">ExtraÃ±o que ofrece ayuda</span>
      </button>
    </div>
    
    <p class="trust-message" id="trustMessage" style="font-weight:700; margin-top:15px; min-height:1.5em; color:var(--ring);"></p>
  </div>

  <div class="denuncia-step" id="step2" hidden>
    <h3>2. Â¿QuiÃ©n puede denunciar?</h3>
    <p class="small">Elige quiÃ©n eres para ver la informaciÃ³n:</p>

    <div class="denuncia-roles">
      <div class="denuncia-roles-toggles">
        <button class="role-toggle is-active" data-role="nino">ğŸ§¸ Soy niÃ±a / niÃ±o</button>
        <button class="role-toggle" data-role="adulto">ğŸ§‘â€ğŸ¦± Soy adulto acompaÃ±ante</button>
        <button class="role-toggle" data-role="testigo">ğŸ‘€ Soy testigo</button>
      </div>

      <div class="denuncia-roles-panel">
        <div class="role-content" id="role-nino">
          <p><strong>Si eres niÃ±a, niÃ±o o adolescente:</strong></p>
          <ul>
            <li>No es tu culpa. Tienes derecho a ser protegido.</li>
            <li>CuÃ©ntale a un adulto de confianza para que te acompaÃ±e.</li>
            <li>No necesitas saber "palabras difÃ­ciles", solo contar la verdad.</li>
          </ul>
        </div>
        <div class="role-content" id="role-adulto" hidden>
          <p><strong>Si eres mamÃ¡, papÃ¡ o cuidador:</strong></p>
          <ul>
            <li>Es tu deber proteger. Si sospechas, denuncia.</li>
            <li>No necesitas pruebas perfectas, la autoridad debe investigar.</li>
            <li>Tu denuncia activa medidas de protecciÃ³n inmediatas.</li>
          </ul>
        </div>
        <div class="role-content" id="role-testigo" hidden>
          <p><strong>Si eres vecino o testigo:</strong></p>
          <ul>
            <li>Puedes hacer denuncias anÃ³nimas al 089.</li>
            <li>Tu voz puede salvar la vida de un menor.</li>
            <li>No necesitas haber visto todo, reporta lo que sabes.</li>
          </ul>
        </div>
      </div>
    </div>
  </div>

  <div class="denuncia-step" id="step3" hidden>
    <h3>3. Â¿QuÃ© llevar al denunciar?</h3>
    <p class="small">Marca lo que ya tienes listo (toca los cÃ­rculos):</p>

    <div class="denuncia-checklist">
      <div class="denuncia-checklist-status small">
        Tienes <span id="checkCount" style="font-weight:bold; color:var(--ring);">0</span> cosas listas.
      </div>

      <div class="denuncia-checklist-grid">
        <button class="check-pill"><span class="check-mark">âš«</span> IdentificaciÃ³n oficial</button>
        <button class="check-pill"><span class="check-mark">âš«</span> Nombre de la vÃ­ctima</button>
        <button class="check-pill"><span class="check-mark">âš«</span> DirecciÃ³n de los hechos</button>
        <button class="check-pill"><span class="check-mark">âš«</span> Fechas aproximadas</button>
        <button class="check-pill"><span class="check-mark">âš«</span> Pruebas (mensajes/fotos)</button>
        <button class="check-pill"><span class="check-mark">âš«</span> Datos de testigos</button>
      </div>
      
      <p class="small mt"><b>Nota:</b> Si te falta algo, Â¡ve igual! La autoridad debe recibirte.</p>
    </div>
  </div>

  <div class="denuncia-step" id="step4" hidden>
    <h3>4. El camino de la denuncia</h3>
    <p class="small">Toca los nÃºmeros para ver quÃ© pasa en cada momento:</p>

    <div class="denuncia-flow">
      <div class="denuncia-flow-steps">
        <button class="flow-node is-active" data-phase="p1"><span class="flow-number">1</span> Antes</button>
        <button class="flow-node" data-phase="p2"><span class="flow-number">2</span> Llegada</button>
        <button class="flow-node" data-phase="p3"><span class="flow-number">3</span> Relato</button>
        <button class="flow-node" data-phase="p4"><span class="flow-number">4</span> Registro</button>
      </div>

      <div class="denuncia-flow-panels">
        <div class="flow-panel" id="p1">
          <h4>1. Antes de ir</h4>
          <p>Anota lo que recuerdes. Si tienes pruebas (mensajes, ropa sucia), guÃ¡rdalas en una bolsa de papel o toma fotos.</p>
        </div>
        <div class="flow-panel" id="p2" hidden>
          <h4>2. Al llegar (Ministerio PÃºblico)</h4>
          <p>Ve a la ventanilla y di: "Quiero denunciar un delito contra un menor". Deben pasarte con un fiscal especializado.</p>
        </div>
        <div class="flow-panel" id="p3" hidden>
          <h4>3. Contar lo que pasÃ³</h4>
          <p>Te harÃ¡n preguntas. Si eres niÃ±o/a, deben tratarte con cuidado y paciencia. Puedes pedir pausas si te cansas.</p>
        </div>
        <div class="flow-panel" id="p4" hidden>
          <h4>4. Registro (Carpeta)</h4>
          <p>Te darÃ¡n un nÃºmero de "Carpeta de InvestigaciÃ³n". Â¡AnÃ³talo y guÃ¡rdalo! Es la llave para preguntar cÃ³mo va tu caso.</p>
        </div>
      </div>
    </div>
  </div>

  <div class="denuncia-step" id="step5" hidden>
    <h3>5. Documentos importantes</h3>
    <p class="small">Toca cada tarjeta para saber por quÃ© sirve:</p>
    
    <div class="evidence-wrap">
      <div class="evidence-chips">
        <button class="evidence-chip is-active" data-ev="ev1">ğŸ—£ï¸ DeclaraciÃ³n</button>
        <button class="evidence-chip" data-ev="ev2">ğŸ“± Digitales</button>
        <button class="evidence-chip" data-ev="ev3">ğŸ©º MÃ©dicos</button>
        <button class="evidence-chip" data-ev="ev4">ğŸ§  PsicolÃ³gicos</button>
      </div>

      <div class="evidence-panel">
        <div class="ev-content" id="ev1">
          <h4>DeclaraciÃ³n</h4>
          <p>Es lo que tÃº cuentas. Tu palabra es la prueba mÃ¡s importante al inicio. Deben escucharte y creerte.</p>
        </div>
        <div class="ev-content" id="ev2" hidden>
          <h4>Pruebas Digitales</h4>
          <p>Capturas de pantalla, mensajes de WhatsApp, audios o fotos. No borres nada del celular, entrÃ©galo tal cual.</p>
        </div>
        <div class="ev-content" id="ev3" hidden>
          <h4>Certificados MÃ©dicos</h4>
          <p>Documentos de doctores que revisaron lesiones. Si no tienes, la FiscalÃ­a te mandarÃ¡ con un mÃ©dico legista.</p>
        </div>
        <div class="ev-content" id="ev4" hidden>
          <h4>Informes PsicolÃ³gicos</h4>
          <p>Ayudan a demostrar cÃ³mo te afectÃ³ emocionalmente la situaciÃ³n. Es vital para entender el daÃ±o invisible.</p>
        </div>
      </div>
    </div>
  </div>

  <div class="denuncia-step" id="step6" hidden>
    <h3>6. Â¿QuÃ© pasa despuÃ©s?</h3>
    <div class="denuncia-timeline">
      <div class="timeline-stages">
        <button class="timeline-node is-active" data-time="t1"><span class="timeline-dot"></span> InvestigaciÃ³n</button>
        <button class="timeline-node" data-time="t2"><span class="timeline-dot"></span> ProtecciÃ³n</button>
        <button class="timeline-node" data-time="t3"><span class="timeline-dot"></span> ResoluciÃ³n</button>
      </div>

      <div class="timeline-panels">
        <div class="t-content" id="t1">
          <h4>InvestigaciÃ³n</h4>
          <p>La policÃ­a buscarÃ¡ testigos, videos y pruebas. Puede tardar un poco, ten paciencia.</p>
        </div>
        <div class="t-content" id="t2" hidden>
          <h4>Medidas de ProtecciÃ³n</h4>
          <p>La autoridad puede ordenar que el agresor NO se te acerque ni te hable. Â¡PÃ­delas!</p>
        </div>
        <div class="t-content" id="t3" hidden>
          <h4>ResoluciÃ³n</h4>
          <p>Se decide si hay juicio. Es importante tener un abogado o asesor jurÃ­dico (son gratis en la FiscalÃ­a).</p>
        </div>
      </div>
    </div>

    <div class="timeline-emotions mt">
      <p class="small">Â¿CÃ³mo te sientes? Toca una emociÃ³n:</p>
      <div class="emotion-buttons">
        <button class="emotion-btn" data-mood="miedo">ğŸ˜Ÿ Tengo miedo</button>
        <button class="emotion-btn" data-mood="enojo">ğŸ˜  Tengo enojo</button>
        <button class="emotion-btn" data-mood="confu">ğŸ˜• Estoy confundido</button>
      </div>
      <p id="moodMsg" class="small mt" style="font-weight:700; color:var(--ring); min-height:1.2em;"></p>
    </div>
  </div>

  <div class="denuncia-step" id="step7" hidden>
    <h3>7. Formas de denunciar</h3>
    <div class="grid three">
      <div class="about-card tone-blue">
        <h4>ğŸ›ï¸ Presencial</h4>
        <p class="small">Ir a la FiscalÃ­a. Es la forma mÃ¡s segura y completa.</p>
      </div>
      <div class="about-card tone-lilac">
        <h4>ğŸ“ TelÃ©fono</h4>
        <p class="small">Llama al 911 (emergencias) o 089 (anÃ³nimo) para pedir orientaciÃ³n.</p>
      </div>
      <div class="about-card tone-pink">
        <h4>ğŸŒ En lÃ­nea</h4>
        <p class="small">Busca "Denuncia en lÃ­nea [Tu Estado]" en Google. Sirve para pre-denuncias.</p>
      </div>
    </div>
  </div>

  <div class="denuncia-step" id="step8" hidden>
    <h3>8. Preguntas Frecuentes</h3>
    <div class="faq-list">
      <div class="faq-item">
        <button class="faq-question">Â¿Me van a cobrar?</button>
        <div class="faq-answer" hidden><p>NO. La justicia es gratuita. Nadie debe pedirte dinero.</p></div>
      </div>
      <div class="faq-item">
        <button class="faq-question">Â¿Puedo ir acompaÃ±ado?</button>
        <div class="faq-answer" hidden><p>SÃ. Siempre ve con un adulto de confianza o abogado.</p></div>
      </div>
      <div class="faq-item">
        <button class="faq-question">Â¿Y si tengo miedo de ver al agresor?</button>
        <div class="faq-answer" hidden><p>Pide estar en un cuarto separado. Tienes derecho a no verlo.</p></div>
      </div>
    </div>
  </div>

  <div class="cta-row mt">
    <a href="ayuda.html" class="btn cta">Necesito ayuda urgente</a>
    <a href="index.html" class="btn alt cta">Volver al inicio</a>
  </div>
</section>

<footer class="site-footer"><div class="footer-inner"><small>KIVA Â· Voz y apoyo</small></div></footer>

<script src="app.js"></script>

<script>
document.addEventListener('DOMContentLoaded', () => {
    
    // 1. NAVEGACIÃ“N DE PASOS PRINCIPAL
    const chips = document.querySelectorAll('.denuncia-step-chip');
    const steps = document.querySelectorAll('.denuncia-step');
    const progressFill = document.getElementById('progressFill');
    const progressLabel = document.getElementById('progressLabel');

    chips.forEach((chip, index) => {
        chip.addEventListener('click', () => {
            chips.forEach(c => c.classList.remove('is-active'));
            chip.classList.add('is-active');
            
            steps.forEach(s => s.hidden = true);
            const target = document.getElementById(chip.dataset.target);
            if(target) target.hidden = false;

            const pct = ((index + 1) / chips.length) * 100;
            progressFill.style.width = pct + '%';
            progressLabel.textContent = `Paso ${index + 1} de ${chips.length}`;
        });
    });

    // 2. PASO 1: TARJETAS DE CONFIANZA
    const trustCards = document.querySelectorAll('.trust-card');
    const trustMsg = document.getElementById('trustMessage');
    trustCards.forEach(card => {
        card.addEventListener('click', () => {
            // Resetear estilos visuales simples
            trustCards.forEach(c => {
                c.style.borderColor = 'var(--line)';
                c.style.background = 'var(--paper)';
            });
            // Aplicar estilo activo
            card.style.borderColor = 'var(--ring)';
            card.style.background = '#eef2ff';
            
            // Mostrar mensaje
            trustMsg.textContent = card.dataset.msg;
            
            // Color del mensaje segÃºn si es advertencia
            if(card.classList.contains('warning')) {
                trustMsg.style.color = '#dc2626'; // Rojo
            } else {
                trustMsg.style.color = '#16a34a'; // Verde
            }
        });
    });

    // 3. PASO 2: SELECTOR DE ROLES
    const roleBtns = document.querySelectorAll('.role-toggle');
    const roleContents = document.querySelectorAll('.role-content');
    roleBtns.forEach(btn => {
        btn.addEventListener('click', () => {
            roleBtns.forEach(b => b.classList.remove('is-active'));
            btn.classList.add('is-active');
            
            roleContents.forEach(c => c.hidden = true);
            document.getElementById(`role-${btn.dataset.role}`).hidden = false;
        });
    });

    // 4. PASO 3: CHECKLIST
    const checkPills = document.querySelectorAll('.check-pill');
    const checkCount = document.getElementById('checkCount');
    checkPills.forEach(pill => {
        pill.addEventListener('click', () => {
            pill.classList.toggle('is-checked');
            // Cambiar icono visualmente
            const mark = pill.querySelector('.check-mark');
            if(pill.classList.contains('is-checked')){
                pill.style.background = '#dcfce7';
                pill.style.borderColor = '#16a34a';
                mark.textContent = 'âœ…';
            } else {
                pill.style.background = '';
                pill.style.borderColor = '';
                mark.textContent = 'âš«';
            }
            // Actualizar contador
            const total = document.querySelectorAll('.check-pill.is-checked').length;
            checkCount.textContent = total;
        });
    });

    // 5. PASO 4: STEPPER (Diagrama de flujo)
    const flowNodes = document.querySelectorAll('.flow-node');
    const flowPanels = document.querySelectorAll('.flow-panel');
    flowNodes.forEach(node => {
        node.addEventListener('click', () => {
            flowNodes.forEach(n => n.classList.remove('is-active'));
            node.classList.add('is-active');
            
            flowPanels.forEach(p => p.hidden = true);
            document.getElementById(node.dataset.phase).hidden = false;
        });
    });

    // 6. PASO 5: PESTAÃ‘AS DE EVIDENCIA
    const evChips = document.querySelectorAll('.evidence-chip');
    const evContents = document.querySelectorAll('.ev-content');
    evChips.forEach(chip => {
        chip.addEventListener('click', () => {
            evChips.forEach(c => c.classList.remove('is-active'));
            chip.classList.add('is-active');
            
            evContents.forEach(c => c.hidden = true);
            document.getElementById(chip.dataset.ev).hidden = false;
        });
    });

    // 7. PASO 6: LÃNEA DE TIEMPO + EMOCIONES
    const timeNodes = document.querySelectorAll('.timeline-node');
    const timePanels = document.querySelectorAll('.t-content');
    timeNodes.forEach(node => {
        node.addEventListener('click', () => {
            timeNodes.forEach(n => n.classList.remove('is-active'));
            node.classList.add('is-active');
            
            timePanels.forEach(p => p.hidden = true);
            document.getElementById(node.dataset.time).hidden = false;
        });
    });

    const emoBtns = document.querySelectorAll('.emotion-btn');
    const moodMsg = document.getElementById('moodMsg');
    const moods = {
        miedo: "Es normal sentir miedo. Eres muy valiente por buscar ayuda.",
        enojo: "El enojo te ayuda a poner lÃ­mites. Ãšsalo para pedir justicia.",
        confu: "Paso a paso. No tienes que resolver todo hoy. Respira."
    };
    emoBtns.forEach(btn => {
        btn.addEventListener('click', () => {
            moodMsg.textContent = moods[btn.dataset.mood];
        });
    });

    // 8. PASO 8: ACORDEONES
    const faqQuestions = document.querySelectorAll('.faq-question');
    faqQuestions.forEach(q => {
        q.addEventListener('click', () => {
            const answer = q.nextElementSibling;
            answer.hidden = !answer.hidden;
        });
    });
});
</script>

</body>
</html>
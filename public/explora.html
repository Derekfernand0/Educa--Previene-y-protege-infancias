<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>KIVA â€” Explora</title>
  <link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@600;700&family=Nunito:wght@400;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css" />
  <link rel="stylesheet" href="styles.mobile.css" media="only screen and (max-width: 600px)" />
  <link rel="icon" type="image/png" href="favicon-kiva.png">
  <style>
    /* Estilos extra para asegurar que los juegos recuperados se vean bien */
    .body-traffic-container { position: relative; width: 100%; max-width: 400px; margin: 0 auto; }
    .body-bg { width: 100%; display: block; border-radius: 12px; }
    .body-dot { position: absolute; width: 24px; height: 24px; border-radius: 50%; border: 2px solid white; cursor: pointer; transform: translate(-50%, -50%); transition: transform 0.2s; }
    .body-dot:hover { transform: translate(-50%, -50%) scale(1.2); }
    .body-dot.green { background: #2ecc71; }
    .body-dot.yellow { background: #f1c40f; }
    .body-dot.red { background: #e74c3c; }
    .body-feedback { margin-top: 1rem; padding: 10px; background: #fff; border-radius: 8px; font-weight: bold; text-align: center; min-height: 3em; display: flex; align-items: center; justify-content: center;}
    
    /* Chat Game */
    .chat-interface { background: #fff; border: 2px solid #eee; border-radius: 12px; overflow: hidden; max-width: 400px; margin: 0 auto; }
    .chat-screen { height: 250px; background: #f9f9f9; padding: 15px; overflow-y: auto; display: flex; flex-direction: column; gap: 10px; }
    .msg { padding: 8px 12px; border-radius: 12px; max-width: 80%; font-size: 0.9rem; }
    .msg.incoming { background: #e0e0e0; align-self: flex-start; border-bottom-left-radius: 2px; }
    .msg.outgoing { background: #d4e6ff; align-self: flex-end; border-bottom-right-radius: 2px; }
    .chat-options { padding: 10px; background: #fff; border-top: 1px solid #eee; display: flex; flex-direction: column; gap: 5px; }
    .btn-opt { background: var(--lilac); border: none; padding: 8px; border-radius: 6px; cursor: pointer; font-size: 0.85rem; transition: 0.2s; }
    .btn-opt:hover { background: var(--lilac-dark); }
  </style>
</head>
<body data-bg="explora">

<header class="site-header">
  <a class="brand" href="index.html" aria-label="Inicio">
    <img
      src="logo kiva sin fondo.png"
      alt="Logo de KIVA Voz y Apoyo"
      class="brand-logo"
    >

    <div class="title-multi title-desktop">
      <b class="kiva">KIVA</b> 
      <b class="guion">-</b>
      <b class="Kids">Kidâ€™s</b> 
      <b class="Integrity">Integrity</b> 
      <b class="coma">,</b> 
      <b class="voz">Voz</b> 
      <b class="y">y</b> 
      <b class="apoyo">Apoyo</b>
    </div>

    <div class="title-multi-mobile">
      <b class="kiva-word">
        <span class="k">K</span>
        <span class="i">I</span>
        <span class="v">V</span>
        <span class="a">A</span>
      </b>
      <b><span class="Kids">Kidâ€™s</span> <span class="Integrity">Integrity</span></b>
    </div>
  </a>

  <button class="hamburger" id="navOpen" aria-label="Abrir menÃº">
    <span></span><span></span><span></span>
  </button>
</header>
<button id="themeToggle" class="mode-toggle" type="button">ğŸŒ™</button>

<!--   //seccion de juegos -->
<section class="external-games-section" style="margin-bottom: 40px; padding: 20px; background-color: #f9f9f9; border-radius: 15px; border: 2px dashed #007bff;">
    <h2 style="text-align: center; color: #333; margin-bottom: 20px;">PrÃ³ximos DesafÃ­os</h2>
    
    <div class="games-container" style="display: flex; flex-wrap: wrap; gap: 20px; justify-content: center;">
        
        <a href="games/RoM.html" class="game-card" style="text-decoration: none; color: inherit; width: 200px; background: white; border-radius: 12px; overflow: hidden; box-shadow: 0 4px 8px rgba(0,0,0,0.1); transition: transform 0.3s ease; display: block;">
            <div style="height: 120px; background-color: #007bff; display: flex; align-items: center; justify-content: center;">
                <span style="font-size: 50px; color: white;">ğŸ®</span>
            </div>
            <div style="padding: 15px; text-align: center;">
                <h3 style="margin: 0; font-size: 1.1em; color: #007bff;">Nuevo Juego</h3>
                <p style="font-size: 0.9em; color: #666; margin-top: 5px;">Â¡Haz clic para jugar!</p>
            </div>
        </a>

        <div style="width: 200px; height: 190px; border: 2px dashed #ccc; border-radius: 12px; display: flex; align-items: center; justify-content: center; color: #ccc;">
            <span>PrÃ³ximamente...</span>
        </div>

    </div>
</section>
<!-- fin de seccion de juegos -->

<section class="minijuegos-grid">
    </section>
<!-- din de seccion de juegos -->
<nav class="sidenav" id="sidenav">
  <button class="sidenav-close" id="navClose">Ã—</button>
  <a class="snav-link" href="index.html">ğŸ  Inicio</a>
  <a class="snav-link" href="aprende.html">ğŸ“š Aprende & GalerÃ­a</a>
  <a class="snav-link" href="explora.html">ğŸ® Explora</a>
  <a class="snav-link" href="ayuda.html">ğŸ†˜ Ayuda</a>
  <a class="snav-link" href="denuncia.html">âš–ï¸ CÃ³mo denunciar</a>
  <a class="snav-link" href="reflexiones.html">ğŸ’­ Reflexiones</a>
  <a class="snav-link" href="sobre.html">â„¹ï¸ Sobre</a>
</nav>
<div id="navBackdrop" class="nav-backdrop" hidden></div>

<section class="section" data-bg="explora">
  <h2 class="h-doodles">Actividades interactivas</h2>
  <div class="section-top-nav">
    <a href="index.html" class="btn alt cta">Volver al inicio</a>
  </div>
    
  <div class="game-block" id="emociono">
    <h3>EmocionÃ³metro</h3>
    <p class="small">Gira el dial o toca un emoji.</p>
    <div class="dial">
      <svg viewBox="0 0 200 200" class="dial-svg" aria-hidden="true">
        <defs>
          <linearGradient id="gMood" x1="0" y1="0" x2="1" y2="0">
            <stop offset="0%" stop-color="#FFD6E7"/>
            <stop offset="50%" stop-color="#E5D6FF"/>
            <stop offset="100%" stop-color="#FFF4B8"/>
          </linearGradient>
        </defs>
        <circle cx="100" cy="100" r="78" class="dial-bg"/>
        <path id="dialArc" d="M30,120 A70,70,0,1,1,170,120" class="dial-arc"/>
        <circle id="dialKnob" cx="30" cy="120" r="10" class="dial-knob"/>
      </svg>
      <div class="dial-emoji" id="dialEmoji">ğŸ˜Š</div>
      <input type="range" min="0" max="100" value="20" id="emoRange" aria-label="EmocionÃ³metro" />
    </div>
    <div class="dial-emojis">
      <button data-v="10">ğŸ˜Š</button><button data-v="35">ğŸ™‚</button>
      <button data-v="60">ğŸ˜•</button><button data-v="80">ğŸ˜”</button>
      <button data-v="100">ğŸ˜ </button>
    </div>
    <div class="emo-label" aria-live="polite"></div>
  </div>

  <div class="game-block" id="muros">
    <h3>Rompe el muro</h3>
    <p class="small">Toca cada bloque para derribarlo.</p>
    <div class="wall" aria-label="Pared de palabras"></div>
    <p class="why" aria-live="polite"></p>
    <button class="btn reset-btn icon-only" data-game="muros">âŸ²</button>
  </div>

  <div class="game-block" id="memoria">
    <h3>Descifra pares</h3>
    <p class="small">Encuentra cada par y descubre su significado.</p>
    <div class="memory-grid" aria-label="Cartas de memoria"></div>
    <div class="memory-info small"></div>
    <div class="memory-desc" aria-live="polite"></div>
    <button class="btn reset-btn icon-only" data-game="memoria">âŸ²</button>
  </div>

  <div class="game-block" id="mensaje">
    <h3>Arma el mensaje</h3>
    <p class="small">Ordena los fragmentos para formar la frase.</p>
    <div class="chips" aria-label="Fragmentos para ordenar"></div>
    <div class="msg-out" aria-live="polite"></div>
    <button class="btn reset-btn icon-only" data-game="mensaje">âŸ²</button>
  </div>

  <div class="game-block" id="semaforo">
    <div class="semaforo-header">
        <h3>ğŸš¦ SemÃ¡foro de Situaciones</h3>
        <div class="score-board">Puntos: <span id="semScore">0</span></div>
    </div>
    <p class="small">Â¿Seguro, IncÃ³modo o Peligro? Â¡Toca el color correcto!</p>
    <div class="sem-game-area">
      <div class="sem-card" id="semCard"><span class="sem-emoji">ğŸ®</span><p class="sem-text">Presiona Iniciar</p></div>
      <div class="sem-feedback" id="semFeedback"></div>
      <div class="sem-controls">
        <button class="sem-btn green" data-color="green">ğŸŸ¢ Seguro</button>
        <button class="sem-btn yellow" data-color="yellow">ğŸŸ¡ Alerta</button>
        <button class="sem-btn red" data-color="red">ğŸ”´ Peligro</button>
      </div>
    </div>
    <button class="btn mt" id="startSemBtn">Â¡Comenzar Juego!</button>
  </div>

  <div class="game-block" id="semaforo-body">
    <h3>ğŸš¦ SemÃ¡foro del Cuerpo</h3>
    <p class="small">Toca los cÃ­rculos de colores sobre el dibujo para saber quÃ© significan.</p>

    <div class="body-traffic-container">
      <div class="body-image-wrapper">
        <img src="niÃ±os.jpg" alt="SemÃ¡foro del cuerpo" class="body-bg">
        
        <button class="body-dot green" style="top: 26%; left: 32%;" data-msg="ğŸŸ¢ CABEZA: Â¡EstÃ¡ bien! Las caricias en la cabeza de tus papÃ¡s son cariÃ±o seguro."></button>
        <button class="body-dot red" style="top: 42%; left: 32%;" data-msg="ğŸ”´ BOCA: Â¡ALTO! Nadie puede obligarte a dar besos. Tu boca es tuya."></button>
        <button class="body-dot red" style="top: 54%; left: 28%;" data-msg="ğŸ”´ PECHO: Â¡Nadie toca! Es tu zona privada. Si alguien te toca, cuÃ©ntalo."></button>
        <button class="body-dot yellow" style="top: 66%; left: 24%;" data-msg="ğŸŸ¡ MANOS: Â¡AtenciÃ³n! Solo da la mano si tÃº quieres y te sientes cÃ³moda/o."></button>
        <button class="body-dot red" style="top: 66%; left: 32%;" data-msg="ğŸ”´ ENTREPIERNA: Â¡PROHIBIDO! Nadie debe tocar tus partes privadas. Â¡Grita NO!"></button>
        <button class="body-dot yellow" style="top: 80%; left: 32%;" data-msg="ğŸŸ¡ PIES: Â¡Cuidado! FÃ­jate por dÃ³nde caminas y alÃ©jate si algo no te gusta."></button>

        <button class="body-dot green" style="top: 26%; left: 68%;" data-msg="ğŸŸ¢ MENTE: Â¡Pensamientos sanos! Nadie debe pedirte guardar secretos malos."></button>
        <button class="body-dot red" style="top: 42.5%; left: 68.5%;" data-msg="ğŸ”´ BOCA: Â¡ALTO! Nadie extraÃ±o debe pedirte besos."></button>
        <button class="body-dot red" style="top: 54%; left: 71.5%;" data-msg="ğŸ”´ PECHO: Zona privada. Nadie puede tocarte aquÃ­ bajo la ropa."></button>
        <button class="body-dot yellow" style="top: 66%; left: 76%;" data-msg="ğŸŸ¡ MANOS: Â¡Ojo! Ten cuidado quiÃ©n te toma de la mano."></button>
        <button class="body-dot red" style="top: 68%; left: 68.5%;" data-msg="ğŸ”´ ENTREPIERNA: Â¡ALTO TOTAL! Nadie puede tocar ni pedirte que toques."></button>
        <button class="body-dot yellow" style="top: 80%; left: 68%;" data-msg="ğŸŸ¡ PIES: Â¡Cuidado! Si alguien te sigue, corre hacia un adulto de confianza."></button>
      </div>

      <div class="body-feedback" id="bodyFeedback">
        ğŸ‘† Toca los puntos de colores en el dibujo.
      </div>
    </div>
  </div>

  <div class="game-block" id="chatGame">
    <h3>ğŸ“± Detecta el EngaÃ±o</h3>
    <p class="small">Alguien te ha enviado un mensaje extraÃ±o. Elige la respuesta segura.</p>
    <div class="chat-interface">
      <div class="chat-screen" id="chatScreen"></div>
      <div class="chat-options" id="chatOptions">
        <button class="btn-opt" data-opt="A">Cargando opciones...</button>
        <button class="btn-opt" data-opt="B">...</button>
      </div>
    </div>
    <div class="chat-feedback" id="chatFeedback"></div>
    <button class="btn reset-btn icon-only" id="resetChat">âŸ²</button>
  </div>

  <center>
    <div class="game-block" id="circuloConfianza">
      <div class="game-header">
        <div class="game-info">
          <h3>Mi CÃ­rculo Seguro</h3>
          <p class="small">Arrastra las tarjetas hacia la persona correcta. Â¿Con quiÃ©n harÃ­as esto?</p>
        </div>
      </div>

      <div class="trust-game-container">
        <div class="trust-board">
          <div class="trust-col family" data-group="family">
            <div class="trust-header header-blue"><span class="t-emoji">ğŸ‘¨â€ğŸ‘©â€ğŸ‘§</span><span class="t-name">Familia</span></div>
            <div class="trust-drop-zone"></div>
          </div>
          <div class="trust-col friends" data-group="friends">
            <div class="trust-header header-green"><span class="t-emoji">ğŸ‘«</span><span class="t-name">Amigos</span></div>
            <div class="trust-drop-zone"></div>
          </div>
          <div class="trust-col community" data-group="community">
            <div class="trust-header header-orange"><span class="t-emoji">ğŸ‘®â€â™‚ï¸</span><span class="t-name">Ayudantes</span></div>
            <div class="trust-drop-zone"></div>
          </div>
          <div class="trust-col strangers" data-group="strangers">
            <div class="trust-header header-red"><span class="t-emoji">ğŸ›‘</span><span class="t-name">ExtraÃ±os</span></div>
            <div class="trust-drop-zone"></div>
          </div>
        </div>
        
        <div class="trust-pool-container">
          <p class="pool-label">ğŸ‘‡ Fichas disponibles (ArrÃ¡stralas)</p>
          <div class="trust-pool" id="trustPool"></div>
        </div>

        <div class="trust-footer">
          <div class="trust-feedback" id="trustFeedback">Selecciona una ficha...</div>
          <button class="btn-reset-trust" id="resetTrust"><span>ğŸ”„</span> Reiniciar</button>
        </div>
      </div>
    </div>
  </center>
  
  <div class="game-block" id="misReglas">
    <h3>ğŸ™…â€â™€ï¸ Mi cuerpo, mis reglas</h3>
    <div class="drag-container">
      <div class="draggables-pool" id="poolReglas"></div>
      <div class="drop-zones">
        <div class="drop-zone zone-ok" data-type="ok"><span class="zone-icon">ğŸ‘</span><span class="zone-label">Permitido</span></div>
        <div class="drop-zone zone-bad" data-type="bad"><span class="zone-icon">â›”</span><span class="zone-label">NO Permitido</span></div>
      </div>
    </div>
    <div class="feedback-msg" id="msgReglas"></div>
    <button class="btn reset-btn icon-only" id="resetReglas">âŸ²</button>
  </div>

  <div class="game-block" id="rompeSilencio">
    <h3>ğŸ¤ Rompe el silencio</h3>
    <p class="small">Lee la situaciÃ³n y ayuda al personaje a elegir la mejor opciÃ³n.</p>
    <div class="story-container" id="storyContainer">
      <div class="story-scene">
        <div class="story-char" id="storyChar">ğŸ˜°</div>
        <p class="story-text" id="storyText">Cargando historia...</p>
        <div class="story-actions" id="storyActions">
          </div>
      </div>
    </div>
    <div id="storyResult" class="story-result" style="margin-top:15px; font-weight:bold; min-height:40px;"></div>
    <button class="btn reset-btn" id="nextStoryBtn" style="margin-top:10px;">Siguiente Historia â¡</button>
  </div>

</section>

<footer class="site-footer"><div class="footer-inner"><small>KIVA Â· Voz y apoyo</small></div></footer>

<script src="app.js" defer></script>

<script>

</script>

</body>
</html>
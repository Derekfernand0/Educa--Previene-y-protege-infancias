<!DOCTYPE html>
<html lang="es" data-theme="light">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>KIVA — Rompe el silencio · Protege tu voz</title>
  <meta name="description" content="KIVA: sitio interactivo para niñas, niños y adolescentes sobre prevención del abuso infantil.">
  <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;700;900&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css" />
  <link rel="stylesheet" href="styles.mobile.css" media="(max-width: 600px)">
</head>
<body>
  <canvas id="bg" aria-hidden="true"></canvas>

  <!-- Mascota / diálogo (sin cambios de lógica) -->
  <button class="buddy" id="buddyBtn" aria-label="Abrir guía de Kiva" title="Hablar con Kiva">
    <svg viewBox="0 0 120 120" class="cat" aria-hidden="true">
      <circle cx="60" cy="64" r="42" class="c-face"/>
      <path d="M36 40 L50 26 L52 44" class="c-ear"/>
      <path d="M84 40 L70 26 L68 44" class="c-ear"/>
      <circle cx="48" cy="64" r="5" class="c-eye"/>
      <circle cx="72" cy="64" r="5" class="c-eye"/>
      <circle cx="60" cy="74" r="2.8" class="c-nose"/>
      <path d="M50 82 Q60 88 70 82" class="c-mouth"/>
      <circle cx="60" cy="20" r="6" class="c-charm"/>
    </svg>
  </button>

  <dialog id="buddyDialog" class="buddy-dialog" aria-labelledby="buddyTitle">
    <div class="buddy-card">
      <div class="buddy-head">
        <svg viewBox="0 0 120 120" class="cat small" aria-hidden="true">
          <circle cx="60" cy="64" r="42" class="c-face"/>
          <path d="M36 40 L50 26 L52 44" class="c-ear"/>
          <path d="M84 40 L70 26 L68 44" class="c-ear"/>
          <circle cx="48" cy="64" r="5" class="c-eye"/>
          <circle cx="72" cy="64" r="5" class="c-eye"/>
          <circle cx="60" cy="74" r="2.8" class="c-nose"/>
          <path d="M50 82 Q60 88 70 82" class="c-mouth"/>
        </svg>
        <div>
          <h3 id="buddyTitle">Kiva</h3>
          <p>Tu guía. Puedo leer en voz alta, explicar y acompañarte paso a paso.</p>
        </div>
      </div>

      <div class="buddy-tabs" role="tablist">
        <button class="bt active" data-tab="inicio" role="tab" aria-selected="true">Inicio</button>
        <button class="bt" data-tab="aprende" role="tab">Aprende</button>
        <button class="bt" data-tab="explora" role="tab">Explora</button>
        <button class="bt" data-tab="ayuda" role="tab">Ayuda</button>
      </div>

      <div class="buddy-body">
        <div class="pane" data-pane="inicio">
          <ul class="buddy-list">
            <li>Activa el narrador para escuchar cada sección.</li>
            <li>En <strong>Aprende</strong> Encontrarás información breve y clara.</li>
            <li>En <strong>Explora</strong> Practica con juegos.</li>
            <li>En <strong>Ayuda</strong> Verás contactos verificados.</li>
          </ul>
        </div>
        <div class="pane hidden" data-pane="aprende"><p>Señales, consentimiento y cómo pedir apoyo.</p></div>
        <div class="pane hidden" data-pane="explora"><p>Rompe muros, arma mensajes y usa el emocionómetro.</p></div>
        <div class="pane hidden" data-pane="ayuda"><p>Desliza para ver Ayuda Local y Global.</p></div>
      </div>

      <div class="buddy-actions">
        <button class="btn ghost" id="buddyRead">Leer esta sección</button>
        <form method="dialog"><button class="btn" id="buddyClose">Cerrar</button></form>
      </div>
    </div>
  </dialog>

  <header class="topbar">
    <a class="brand" href="#/home" aria-label="Inicio">
      <span class="brand-a">KIVA</span>
      <span class="brand-dot"></span>
      <span class="brand-b">Rompe el silencio</span>
    </a>

    <nav class="topnav" id="topnav" aria-label="Navegación principal">
      <a href="#/home" class="topnav-item" data-icon="home">Inicio</a>
      <a href="#/aprende" class="topnav-item" data-icon="book">Aprende</a>
      <a href="#/explora" class="topnav-item" data-icon="spark">Explora</a>
      <a href="#/galeria" class="topnav-item" data-icon="image">Imágenes</a>
      <a href="#/foro" class="topnav-item" data-icon="chat">Foro</a>
      <a href="#/ayuda" class="topnav-item" data-icon="help">Ayuda</a>
      <a href="#/blog" class="topnav-item" data-icon="note">Reflexiones</a>
      <a href="#/sobre" class="topnav-item" data-icon="info">Sobre</a>
    </nav>

    <div class="top-actions">
      <button id="themeBtn" class="icon-btn" title="Tema" aria-label="Cambiar tema">
        <svg viewBox="0 0 24 24" aria-hidden="true"><circle cx="12" cy="12" r="5" stroke="currentColor" fill="none"/></svg>
      </button>
      <button id="tipsBtn" class="icon-btn" title="Tips" aria-label="Tips">
        <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M12 3v3M12 18v3M3 12h3M18 12h3" stroke="currentColor" fill="none"/></svg>
      </button>
      <button id="narratorBtn" class="icon-btn" title="Activar narrador" aria-label="Activar narrador">
        <svg viewBox="0 0 24 24" aria-hidden="true" fill="currentColor">
          <path d="M7 10v4c0 .55.45 1 1 1h2l5 5V5l-5 5H8c-.55 0-1 .45-1 1zm11 1c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM16 4.27v1.88c2.43 1.13 4 3.5 4 6.2s-1.57 5.07-4 6.2v1.88c3.48-1.22 6-4.5 6-8.08s-2.52-6.86-6-8.08z"/>
        </svg>
      </button>
      <button id="navToggle" class="hamburger" aria-label="Abrir menú"><span></span><span></span><span></span></button>
    </div>
  </header>

  <main class="viewport" id="app" tabindex="-1" aria-live="polite">
    <!-- HOME -->
    <section class="view active" data-route="home" aria-labelledby="homeTitle">
      <div class="hero-wrap vk-hero">
        <div class="hero-card">
          <div class="hero-copy">
            <h1 id="homeTitle" class="title">
              <span class="row big">KIVA</span>
              <span class="sub">Rompe el silencio · Protege tu voz</span>
            </h1>
            <p class="lead">
              Un espacio seguro para aprender, practicar y pedir apoyo con personas de confianza.
            </p>
            <button class="btn primary" data-go="ayuda">Ir a Ayuda</button>
          </div>
          <div class="hero-media">
            <img src="https://img.freepik.com/foto-gratis/nina-pintando_23-2148022489.jpg"
              alt="Niña escribiendo con colores pastel">
          </div>
        </div>
      </div>

      <!-- Tabs tipo stickers (Programas · Docentes · Opiniones · Precios) -->
      <section class="vk-tabs container">
        <a href="#/aprende" class="vk-tab vk-burst mint">Programas</a>
        <a href="#/sobre"   class="vk-tab vk-burst peach">Docentes</a>
        <a href="#/blog"    class="vk-tab vk-burst sky">Opiniones</a>
        <a href="#/ayuda"   class="vk-tab vk-burst sand">Precios</a>
      </section>

      <!-- Servicios/atajos grandes -->
      <section class="vk-services container">
        <a class="vk-service peach"   href="#/explora">Clases con acompañamiento</a>
        <a class="vk-service mint"    href="#/aprende">Contenido para principiantes</a>
        <a class="vk-service lavender" href="#/ayuda">Preparación y apoyo</a>
      </section>
    </section>

    <!-- APRENDE -->
    <section class="view" data-route="aprende">
      <div class="section-head lilac">
        <h2 class="h-doodles">Aprende</h2>
        <p>Señales, consentimiento y qué hacer si alguien te lo cuenta.</p>
        <div class="wave top"></div>
      </div>
      <div class="cards">
        <article class="card mint"><h3>¿Qué es?</h3><p>Abuso infantil: daño físico, emocional, sexual o negligencia. No es tu culpa.</p></article>
        <article class="card sky"><h3>Señales</h3><p>Cambios de ánimo, evitar lugares/personas, lesiones sin explicación.</p></article>
        <article class="card coral"><h3>Si alguien te lo confía</h3><p>Escucha y cree. No prometas secreto absoluto; busca apoyo.</p></article>
        <article class="card banana"><h3>Consentimiento</h3><p>Debe ser libre y con ganas. Sin presión.</p></article>
      </div>
    </section>

    <!-- EXPLORA (juegos) -->
    <section class="view" data-route="explora">
      <div class="section-head peach">
        <h2 class="h-doodles">Explora</h2>
        <p>Juega y practica habilidades que te cuidan.</p>
        <div class="wave top"></div>
      </div>

      <div class="game-card" id="emociono">
        <h3>Emocionómetro</h3>
        <p class="muted small">Mueve el control y nombra lo que sientes.</p>
        <div class="emo-wrap">
          <input type="range" min="0" max="100" value="45" id="emoRange" aria-label="Emocionómetro">
          <div class="emo-face" aria-hidden="true">
            <div class="brow l"></div><div class="brow r"></div>
            <div class="eye l"></div><div class="eye r"></div>
            <div class="mouth"></div><div class="tear"></div>
          </div>
          <div class="emo-label" aria-live="polite"></div>
        </div>
      </div>

      <div class="game-card" id="muros">
        <h3>Rompe el muro</h3>
        <p class="muted small">Toca cada bloque para derribarlo.</p>
        <div class="wall"></div>
        <p class="why" aria-live="polite"></p>
        <button class="btn reset-btn icon-only" data-game="muros" aria-label="Reiniciar Muros">⟲</button>
      </div>

      <div class="game-card" id="memoria">
        <h3>Descifra pares</h3>
        <p class="muted small">Encuentra cada par y descubre su significado.</p>
        <div class="memory-grid"></div>
        <div class="memory-info muted small"></div>
        <div class="memory-desc" aria-live="polite"></div>
        <button class="btn reset-btn icon-only" data-game="memoria" aria-label="Reiniciar Memoria">⟲</button>
      </div>

      <div class="game-card" id="mensaje">
        <h3>Arma el mensaje</h3>
        <p class="muted small">Ordena los fragmentos para formar la frase.</p>
        <div class="chips"></div>
        <div class="msg-out" aria-live="polite"></div>
        <button class="btn reset-btn icon-only" data-game="mensaje" aria-label="Reiniciar Mensaje">⟲</button>
      </div>
    </section>

    <!-- Resto de vistas (galería, foro, ayuda, blog, sobre) igual que ya tienes -->
    <section class="view" data-route="galeria"> … </section>
    <section class="view" data-route="foro"> … </section>
    <section class="view" data-route="ayuda"> … </section>
    <section class="view" data-route="blog"> … </section>
    <section class="view" data-route="sobre"> … </section>
  </main>

  <dialog id="tips" aria-labelledby="tipsTitle" class="tips-dialog">
    <div class="tips-card">
      <h3 id="tipsTitle">Tips rápidos</h3>
      <ul class="tips-list">
        <li>Usa el menú superior con íconos para navegar.</li>
        <li>En “Explora” están los juegos.</li>
        <li>El botón de la portada te lleva a Ayuda.</li>
      </ul>
      <form method="dialog"><button class="btn">Listo</button></form>
    </div>
  </dialog>


  <!-- Panel rápido (sólo móvil) -->
<!-- Panel rápido (móvil) -->
<div class="quick-panel" id="quickPanel" aria-hidden="true">
  <!-- Cada botón re-usa la lógica original por “proxy click” -->
  <button class="qp-item" type="button" data-act="theme" title="Tema" aria-label="Cambiar tema">
    <svg viewBox="0 0 24 24" aria-hidden="true"><circle cx="12" cy="12" r="5" stroke="currentColor" fill="none"/></svg>
  </button>
  <button class="qp-item" type="button" data-act="tips" title="Tips" aria-label="Tips">
    <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M12 6v6m0 6v0M6 12h6m6 0h0" stroke="currentColor" fill="none"/></svg>
  </button>
  <button class="qp-item" type="button" data-act="voice" title="Narrador" aria-label="Activar narrador">
    <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M7 10v4h2l5 5V5l-5 5H7z" fill="currentColor"/></svg>
  </button>
  <button class="qp-item" type="button" data-act="menu" title="Menú" aria-label="Abrir menú principal">
    <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M4 7h16M4 12h16M4 17h16" stroke="currentColor"/></svg>
  </button>
</div>

<!-- Botón flotante (abre/cierra la hilera) -->
<button class="fab" id="fabToggle" aria-label="Abrir panel rápido" aria-expanded="false">
  <span class="fab-bar"></span>
  <span class="fab-bar"></span>
  <span class="fab-bar"></span>
</button>



  <script src="app.js" defer></script>
</body>
</html>
